<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null,"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"manual","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="舟遥遥以轻飏，风飘飘而吹衣">
<meta property="og:type" content="website">
<meta property="og:title" content="Switch">
<meta property="og:url" content="http://example.com/page/6/index.html">
<meta property="og:site_name" content="Switch">
<meta property="og:description" content="舟遥遥以轻飏，风飘飘而吹衣">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="SWQ">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/6/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Switch</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/rss2.xml" title="Switch" type="application/rss+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Switch</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Welcome to My Blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">5</span></a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">33</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">135</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/19/%E9%9A%8F%E7%AC%94/%E8%81%9A%E9%A4%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="SWQ">
      <meta itemprop="description" content="舟遥遥以轻飏，风飘飘而吹衣">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Switch">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/12/19/%E9%9A%8F%E7%AC%94/%E8%81%9A%E9%A4%90/" class="post-title-link" itemprop="url">聚餐</a>
        </h2>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-12-19 12:32:00" itemprop="dateCreated datePublished" datetime="2023-12-19T12:32:00+08:00">2023-12-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-02-09 14:43:15" itemprop="dateModified" datetime="2025-02-09T14:43:15+08:00">2025-02-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">随笔</span></a>
                </span>
            </span>

          
            <span id="/2023/12/19/%E9%9A%8F%E7%AC%94/%E8%81%9A%E9%A4%90/" class="post-meta-item leancloud_visitors" data-flag-title="聚餐" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2023/12/19/%E9%9A%8F%E7%AC%94/%E8%81%9A%E9%A4%90/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2023/12/19/%E9%9A%8F%E7%AC%94/%E8%81%9A%E9%A4%90/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>366</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​        聚餐，至微醺之时，聊起往事，期盼未来。</p>
<p>​        大大小小已经聚过很多次了，只是岁月流转，换了角色。大一时是新人，听教练和学长讲起往日的趣事，对未来生出许多渴盼，心中暗念定要磨炼自己的意志走下去；大二时已练了一年，与默契队友谈起船上趣事如何，平时生活怎样，如此认真对待着我们共同努力的项目；大三时也成了学长，迎走毕业的学长，也向学弟学妹们谈起比赛和训练，聊起往日难以磨灭的美好，眼下是更多的期盼，一种传承。</p>
<p>​        沉浸在当下的美好，暂时忘却了远处的烦忧，应说是调整好状态，摆脱混乱的状态。相比之下，曾经训练的疲惫与汗水，远处的风景，协调一致的成就…多么纯粹单纯，这之中又有坚韧、自信的力量，是坚实的靠山，也让我感受到那份珍贵，于是珍惜当下吧！它曾经拓宽了我的视野，现在又将纷乱的思绪，飘忽的视线收束当下，过了今夜，我将重新回到一个清晰冷静的状态。</p>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/14/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A5%BF%E7%94%B5%E8%AE%A1%E7%A7%91%E5%A4%A7%E4%B8%89%E4%B8%8A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA%E4%BB%A3%E7%A0%81%E5%90%88%E9%9B%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="SWQ">
      <meta itemprop="description" content="舟遥遥以轻飏，风飘飘而吹衣">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Switch">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/12/14/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A5%BF%E7%94%B5%E8%AE%A1%E7%A7%91%E5%A4%A7%E4%B8%89%E4%B8%8A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA%E4%BB%A3%E7%A0%81%E5%90%88%E9%9B%86/" class="post-title-link" itemprop="url">西电计科大三上数据库系统概论代码合集</a>
        </h2>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-12-14 00:14:45" itemprop="dateCreated datePublished" datetime="2023-12-14T00:14:45+08:00">2023-12-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-02-09 14:22:05" itemprop="dateModified" datetime="2025-02-09T14:22:05+08:00">2025-02-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a>
                </span>
            </span>

          
            <span id="/2023/12/14/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A5%BF%E7%94%B5%E8%AE%A1%E7%A7%91%E5%A4%A7%E4%B8%89%E4%B8%8A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA%E4%BB%A3%E7%A0%81%E5%90%88%E9%9B%86/" class="post-meta-item leancloud_visitors" data-flag-title="西电计科大三上数据库系统概论代码合集" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2023/12/14/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A5%BF%E7%94%B5%E8%AE%A1%E7%A7%91%E5%A4%A7%E4%B8%89%E4%B8%8A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA%E4%BB%A3%E7%A0%81%E5%90%88%E9%9B%86/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2023/12/14/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A5%BF%E7%94%B5%E8%AE%A1%E7%A7%91%E5%A4%A7%E4%B8%89%E4%B8%8A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA%E4%BB%A3%E7%A0%81%E5%90%88%E9%9B%86/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>17k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>15 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>目录</strong></p>
<p><a href="about:blank#%E4%B8%80.%E8%AF%BE%E6%9C%AC%E8%AF%BE%E5%90%8E%E4%BD%9C%E4%B8%9A%E8%A7%A3%E6%9E%90">一.课本课后作业解析</a></p>
<p><a href="about:blank#1.%E9%97%AE%E9%A2%98%E8%AF%B4%E6%98%8E">1.问题说明</a></p>
<p><a href="about:blank#%3C1%3E%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90">&lt;1&gt;代码解析</a></p>
<p><a href="about:blank#2.%E9%97%AE%E9%A2%98%E8%AF%B4%E6%98%8E">2.问题说明</a></p>
<p><a href="about:blank#%C2%A0%3C1%3E%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90"> &lt;1&gt;代码解析</a></p>
<p><a href="about:blank#%C2%A03.%E9%97%AE%E9%A2%98%E8%AF%B4%E6%98%8E"> 3.问题说明</a></p>
<p><a href="about:blank#%3C1%3E%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90">&lt;1&gt;代码解析</a></p>
<p><a href="about:blank#%C2%A04.%E9%97%AE%E9%A2%98%E8%AF%B4%E6%98%8E"> 4.问题说明</a></p>
<p><a href="about:blank#%3C1%3E%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90">&lt;1&gt;代码解析</a></p>
<p><a href="about:blank#%E4%BA%8C.openGauss%E5%AE%9E%E8%B7%B5%E5%B9%B3%E5%8F%B0%E5%AE%9E%E9%AA%8C">二.openGauss实践平台实验</a></p>
<p><a href="about:blank#1.%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B%E6%8F%8F%E8%BF%B0">1.关系模型描述</a></p>
<p><a href="about:blank#%C2%A0%3C1%3E%E6%9E%84%E5%BB%BA%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B"><br>&lt;1&gt;构建关系模型</a></p>
<p><a href="about:blank#%3C2%3E%E6%8F%92%E5%85%A5%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE%C2%A0">&lt;2&gt;插入测试数据
</a></p>
<p><a href="about:blank#2.%E9%97%AE%E9%A2%98%E8%A7%A3%E6%9E%90">2.问题解析</a></p>
<p><a href="about:blank#%E4%B8%89.%E4%B8%8A%E6%9C%BA%E4%BD%9C%E4%B8%9A">三.上机作业</a></p>
<p><a href="about:blank#1.%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90">1.需求分析</a></p>
<p><a href="about:blank#%3C1%3E%E5%86%85%E5%AE%B9">&lt;1&gt;内容</a></p>
<p><a href="about:blank#%3C2%3E%E5%9F%BA%E6%9C%AC%E8%A6%81%E6%B1%82">&lt;2&gt;基本要求</a></p>
<p><a href="about:blank#2.%E6%A6%82%E5%BF%B5%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1">2.概念结构设计</a></p>
<p><a href="about:blank#%3C1%3E%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AF%AD%E4%B9%89">&lt;1&gt;数据库语义</a></p>
<p><a href="about:blank#%3C2%3EE-R%E5%9B%BE%E8%AE%BE%E8%AE%A1">&lt;2&gt;E-R图设计</a></p>
<p><a href="about:blank#3.%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1">3.逻辑结构设计</a></p>
<p><a href="about:blank#%EF%BC%881%EF%BC%89%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B">（1）关系模型</a></p>
<p><a href="about:blank#4.%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0">4.功能实现</a></p>
<p><a href="about:blank#%3C1%3E%E5%BB%BA%E5%BA%93%E6%97%B6%E5%BA%94%E5%BD%95%E5%85%A5%E4%B8%80%E5%AE%9A%E6%95%B0%E9%87%8F%E7%9A%84%EF%BC%88%E4%B8%8D%E8%83%BD%E8%BF%87%E5%B0%91%EF%BC%89%E5%AD%A6%E7%94%9F%E3%80%81%E6%95%99%E5%B8%88%E3%80%81%E8%AF%BE%E7%A8%8B%E3%80%81%E6%88%90%E7%BB%A9%E7%AD%89%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF">&lt;1&gt;建库时应录入一定数量的（不能过少）学生、教师、课程、成绩等基本信息</a></p>
<p><a href="about:blank#%3C2%3E%E5%BD%95%E5%85%A5%E4%B8%80%E4%BD%8D%E5%AD%A6%E7%94%9F%EF%BC%8C%E5%BA%94%E5%8C%85%E5%90%AB%E5%AD%A6%E5%8F%B7%E3%80%81%E5%A7%93%E5%90%8D%E3%80%81%E6%80%A7%E5%88%AB%E3%80%81%E5%87%BA%E7%94%9F%E5%B9%B4%E6%9C%88%E3%80%81%E7%8F%AD%E7%BA%A7%E7%AD%89%E4%BF%A1%E6%81%AF">&lt;2&gt;录入一位学生，应包含学号、姓名、性别、出生年月、班级等信息</a></p>
<p><a href="about:blank#%3C3%3E%E6%8C%89%E5%AD%A6%E5%8F%B7%E3%80%81%E5%A7%93%E5%90%8D%E3%80%81%E4%B8%93%E4%B8%9A%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F%E6%9F%A5%E8%AF%A2%E5%AD%A6%E7%94%9F%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF">&lt;3&gt;按学号、姓名、专业三种方式查询学生基本信息</a></p>
<p><a href="about:blank#%3C4%3E%E5%BD%95%E5%85%A5%E4%B8%80%E4%BD%8D%E5%AD%A6%E7%94%9F%E4%B8%80%E9%97%A8%E8%AF%BE%E7%9A%84%E6%88%90%E7%BB%A9">&lt;4&gt;录入一位学生一门课的成绩</a></p>
<p><a href="about:blank#%3C5%3E%E6%9F%A5%E8%AF%A2%E4%B8%80%E4%BD%8D%E5%AD%A6%E7%94%9F%E6%89%80%E4%BF%AE%E7%9A%84%E8%AF%BE%E7%A8%8B%E3%80%81%E6%80%A7%E8%B4%A8%EF%BC%88%E5%BF%85%E4%BF%AE%E6%88%96%E9%80%89%E4%BF%AE%EF%BC%89%E3%80%81%E5%AD%A6%E6%9C%9F%E3%80%81%E5%AD%A6%E5%88%86%E5%8F%8A%E6%88%90%E7%BB%A9">&lt;5&gt;查询一位学生所修的课程、性质（必修或选修）、学期、学分及成绩</a></p>
<p><a href="about:blank#%3C6%3E%E6%9F%A5%E8%AF%A2%E4%B8%80%E4%BD%8D%E5%AD%A6%E7%94%9F%E8%A2%AB%E5%93%AA%E4%BA%9B%E6%95%99%E5%B8%88%E6%95%99%E8%BF%87%E8%AF%BE">&lt;6&gt;查询一位学生被哪些教师教过课</a></p>
<p><a href="about:blank#%3C7%3E%E6%9F%A5%E8%AF%A2%E5%BF%AB%E8%A6%81%E8%A2%AB%E5%BC%80%E9%99%A4%E7%9A%84%E5%AD%A6%E7%94%9F%EF%BC%88%E8%B7%9D%E8%A2%AB%E5%BC%80%E9%99%A4%E5%B7%AE3%E5%AD%A6%E5%88%86%E4%B9%8B%E5%86%85%EF%BC%89">&lt;7&gt;查询快要被开除的学生（距被开除差3学分之内）</a></p>
<p><a href="about:blank#5.%E4%B8%BB%E8%A6%81%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3">5.主要问题及解决</a></p>
<p><a href="about:blank#6.%E6%80%BB%E7%BB%93">6.总结</a></p>
<p><a href="about:blank#7.%E9%99%84%E5%BD%95">7.附录</a></p>
<p><a href="about:blank#%3C1%3ETXT%E8%BD%ACSQL%20C%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%84%9A%E6%9C%AC">&lt;1&gt;TXT转SQL<br>C语言程序脚本</a></p>
<hr>
<h2 id="一-课本课后作业解析"><a href="#一-课本课后作业解析" class="headerlink" title="一.课本课后作业解析"></a>一.课本课后作业解析</h2><h3 id="1-问题说明"><a href="#1-问题说明" class="headerlink" title="1.问题说明"></a>1.问题说明</h3><pre><code>    用SQL语句建立第2章习题6中的4个表（要求给出主码和外码约束，但无需插入记录）：
</code></pre>
<p>设有一个SPJ数据库，包括S，P，J及SPJ4个关系模式：</p>
<p>S(SNO, SNAME, STATUS, CITY);</p>
<p>P(PNO, PNAME, COLOR, WEIGHT);</p>
<p>J(JNO, JNAME, CITY);</p>
<p>SPJ(SNO, PNO, JNO, QTY)。</p>
<pre><code>    供应商表S由供应商代码（SNO）、供应商姓名（SNAME）、供应商状态（STATUS）、供应商所在城市（CITY）组成。

    零件表P由零件代码（PNO）、零件名（PNAME）、颜色（COLOR）、重量（WEIGHT）组成。

    工程项目表J由工程项目代码（JNO）、工程项目名（JNAME）、工程项目所在城市（CITY）组成。

    供应情况表SPJ由供应商代码（SNO）、零件代码（PNO）、工程项目代码（JNO）、供应数量（QTY）组成，表示某供应商供应某种零件给某工程项目的数量为QTY。
</code></pre>
<h4 id="代码解析"><a href="#代码解析" class="headerlink" title="&lt;1&gt;代码解析"></a>&lt;1&gt;代码解析</h4><p>​<br>    &#x2F;<em>– 删除已有的表</em>&#x2F;<br>    &#x2F;<em>– 注意要先删除参照表（如SC），再删除被参照表（如Student，Course）</em>&#x2F;<br>    DROP TABLE SPJ;<br>    DROP TABLE S;<br>    DROP TABLE P;<br>    DROP TABLE J;</p>
<p>​<br>    &#x2F;<em>创建基本表</em>&#x2F;<br>    &#x2F;<em>注意要先创建被参照表，再创建参照表</em>&#x2F;<br>    CREATE TABLE S(<br>    SNO CHAR(10) PRIMARY KEY,	&#x2F;<em>– 列级完整性约束的方式，定义主码</em>&#x2F;<br>    SNAME CHAR(20),<br>    STATUS INT,<br>    CITY CHAR(10)<br>    ); </p>
<pre><code>CREATE TABLE P(
PNO CHAR(10) PRIMARY KEY,
PNAME CHAR(20),
COLOR CHAR(10),
WEIGHT CHAR(10)
);

CREATE TABLE J(
JNO CHAR(10) PRIMARY KEY,
JNAME CHAR(20),
CITY CHAR(10)
);

CREATE TABLE SPJ(
SNO CHAR(10),
PNO CHAR(10),
JNO CHAR(10),
QTY INT,
PRIMARY KEY (SNO,PNO,JNO),
FOREIGN KEY (SNO) REFERENCES S(SNO),	/*-- 表级完整性约束的方式，定义外码；注意参照列Cpno必须加括号*/
FOREIGN KEY (PNO) REFERENCES P(PNO),	
FOREIGN KEY (JNO) REFERENCES J(JNO)	
);
</code></pre>
<p>插入测试数据：</p>
<p>​<br>    &#x2F;<em>– 向基本表中插入数据</em>&#x2F;<br>    INSERT INTO S VALUES (‘S1’,’精益’,20,’天津’);<br>    INSERT INTO S VALUES (‘S2’,’盛锡’,10,’北京’);<br>    INSERT INTO S VALUES (‘S3’,’东方红’,30,’北京’);<br>    INSERT INTO S VALUES (‘S4’,’丰泰盛’,20,’天津’);<br>    INSERT INTO S VALUES (‘S5’,’为民’,20,’上海’);</p>
<pre><code>/*-- 如果根据参照关系表中一行参照了另外一行，应先插入被参照行（如(&#39;6&#39;,...,...,...)），后插入参照行（如(...,...,&#39;6&#39;,...)）*/
INSERT INTO P VALUES (&#39;P1&#39;,&#39;螺母&#39;,&#39;红&#39;,12);
INSERT INTO P VALUES (&#39;P2&#39;,&#39;螺栓&#39;,&#39;绿&#39;,17);
INSERT INTO P VALUES (&#39;P3&#39;,&#39;螺丝刀&#39;,&#39;蓝&#39;,14);
INSERT INTO P VALUES (&#39;P4&#39;,&#39;螺丝刀&#39;,&#39;红&#39;,14);
INSERT INTO P VALUES (&#39;P5&#39;,&#39;凸轮&#39;,&#39;蓝&#39;,40);
INSERT INTO P VALUES (&#39;P6&#39;,&#39;齿轮&#39;,&#39;红&#39;,30);

INSERT INTO J VALUES (&#39;J1&#39;,&#39;三建&#39;,&#39;北京&#39;);
INSERT INTO J VALUES (&#39;J2&#39;,&#39;一汽&#39;,&#39;长春&#39;);
INSERT INTO J VALUES (&#39;J3&#39;,&#39;弹簧厂&#39;,&#39;天津&#39;);
INSERT INTO J VALUES (&#39;J4&#39;,&#39;造船厂&#39;,&#39;天津&#39;);
INSERT INTO J VALUES (&#39;J5&#39;,&#39;机车厂&#39;,&#39;唐山&#39;);
INSERT INTO J VALUES (&#39;J6&#39;,&#39;无线电厂&#39;,&#39;常州&#39;);
INSERT INTO J VALUES (&#39;J7&#39;,&#39;半导体厂&#39;,&#39;南京&#39;);

INSERT INTO SPJ VALUES (&#39;S1&#39;,&#39;P1&#39;,&#39;J1&#39;,200);
INSERT INTO SPJ VALUES (&#39;S1&#39;,&#39;P1&#39;,&#39;J3&#39;,100);
INSERT INTO SPJ VALUES (&#39;S1&#39;,&#39;P1&#39;,&#39;J4&#39;,700);
INSERT INTO SPJ VALUES (&#39;S1&#39;,&#39;P2&#39;,&#39;J2&#39;,100);
INSERT INTO SPJ VALUES (&#39;S2&#39;,&#39;P3&#39;,&#39;J1&#39;,400);
INSERT INTO SPJ VALUES (&#39;S2&#39;,&#39;P3&#39;,&#39;J2&#39;,200);
INSERT INTO SPJ VALUES (&#39;S2&#39;,&#39;P3&#39;,&#39;J4&#39;,500);
INSERT INTO SPJ VALUES (&#39;S2&#39;,&#39;P3&#39;,&#39;J5&#39;,400);
INSERT INTO SPJ VALUES (&#39;S2&#39;,&#39;P5&#39;,&#39;J1&#39;,400);
INSERT INTO SPJ VALUES (&#39;S2&#39;,&#39;P5&#39;,&#39;J2&#39;,100);
INSERT INTO SPJ VALUES (&#39;S3&#39;,&#39;P1&#39;,&#39;J1&#39;,200);
INSERT INTO SPJ VALUES (&#39;S3&#39;,&#39;P3&#39;,&#39;J1&#39;,200);
INSERT INTO SPJ VALUES (&#39;S4&#39;,&#39;P5&#39;,&#39;J1&#39;,100);
INSERT INTO SPJ VALUES (&#39;S4&#39;,&#39;P6&#39;,&#39;J3&#39;,300);
INSERT INTO SPJ VALUES (&#39;S4&#39;,&#39;P6&#39;,&#39;J4&#39;,200);
INSERT INTO SPJ VALUES (&#39;S5&#39;,&#39;P2&#39;,&#39;J4&#39;,100);
INSERT INTO SPJ VALUES (&#39;S5&#39;,&#39;P3&#39;,&#39;J1&#39;,200);
INSERT INTO SPJ VALUES (&#39;S5&#39;,&#39;P6&#39;,&#39;J2&#39;,200);
INSERT INTO SPJ VALUES (&#39;S5&#39;,&#39;P6&#39;,&#39;J4&#39;,500);
</code></pre>
<h3 id="2-问题说明"><a href="#2-问题说明" class="headerlink" title="2.问题说明"></a>2.问题说明</h3><p>针对建立的4个表用SQL完成第2章习题6中的查询：</p>
<p>（1）求供应工程J1零件的供应商号码SNO；</p>
<p>（2）求供应工程J1零件P1的供应商号码SNO;</p>
<p>（3）求供应工程J1零件为红色的供应商号码SNO；</p>
<p>（4）求没有使用天津供应商生产的红色零件的工程号JNO；</p>
<p>（5）求至少使用了供应商S1所供应的全部零件的工程号JNO。</p>
<h4 id="代码解析-1"><a href="#代码解析-1" class="headerlink" title="&lt;1&gt;代码解析"></a>&lt;1&gt;代码解析</h4><p>​<br>    &#x2F;<em>求供应工程J1零件的供应商号码SNO</em>&#x2F;<br>    SELECT DISTINCT SNO<br>    FROM SPJ<br>    WHERE JNO&#x3D;’J1’;</p>
<pre><code>/*求供应工程J1零件P1的供应商号码SNO*/
SELECT DISTINCT SNO
FROM SPJ
WHERE JNO=&#39;J1&#39; AND PNO=&#39;P1&#39;;

/*求供应工程J1零件为红色的供应商号码SNO*/
SELECT DISTINCT SNO
FROM SPJ
WHERE JNO=&#39;J1&#39; AND PNO IN(
    SELECT DISTINCT PNO
    FROM P
    WHERE COLOR=&#39;红&#39;
);

/*求没有使用天津供应商生产的红色零件的工程号JNO*/
SELECT DISTINCT JNO
FROM SPJ
WHERE SNO NOT IN (
    SELECT SNO
    FROM S
    WHERE CITY=&#39;天津&#39;
    ) OR PNO NOT IN(
        SELECT DISTINCT PNO
        FROM P
        WHERE COLOR=&#39;红&#39;
);

/*求至少使用了供应商S1所供应的全部零件的工程号JNO*/
/*方法一*/
SELECT DISTINCT JNO
FROM SPJ
WHERE SNO=&#39;S1&#39;
GROUP BY JNO 
HAVING COUNT(PNO)=(SELECT COUNT(DISTINCT PNO) FROM SPJ WHERE SNO=&#39;S1&#39;);

/*方法二*/
SELECT DISTINCT JNO
FROM SPJ X
WHERE NOT EXISTS(
    SELECT DISTINCT PNO
    FROM SPJ Y
    WHERE SNO=&#39;S1&#39; AND NOT EXISTS(
        SELECT *
        FROM SPJ Z
        WHERE Z.SNO=&#39;S1&#39; AND Y.PNO=Z.PNO AND X.JNO=Z.JNO
    )
);
</code></pre>
<h3 id="3-问题说明"><a href="#3-问题说明" class="headerlink" title="3.问题说明"></a>3.问题说明</h3><p>针对建立的4个表用SQL完成一下各项操作：</p>
<p>（1）找出所有供应商的姓名和所在城市；</p>
<p>（2）找出所有零件的名称、颜色、重量；</p>
<p>（3）找出使用供应商S1所供应零件的工程号码；</p>
<p>（4）找出工程项目J2使用的各种零件的名称及其数量；</p>
<p>（5）找出上海厂商供应的所有零件号码；</p>
<p>（6）找出使用上海产的零件的工程名称；</p>
<p>（7）找出没有使用天津产的零件的工程号码；</p>
<p>（8）把全部红色零件的颜色改成蓝色；</p>
<p>（9）由S5供给J4的零件P6改为由S3供应，请作出必要的修改；</p>
<p>（10）从供应商关系中删除S2的记录，并从供应情况关系中删除相应的记录；</p>
<p>（11）请将(S2,J6,P4,200)插入供应情况关系。</p>
<h4 id="代码解析-2"><a href="#代码解析-2" class="headerlink" title="&lt;1&gt;代码解析"></a>&lt;1&gt;代码解析</h4><p>​<br>    &#x2F;<em>找出所有供应商的姓名和所在城市</em>&#x2F;<br>    SELECT SNAME,CITY<br>    FROM S;</p>
<pre><code>/*找出所有零件的名称、颜色、重量*/
SELECT PNAME,COLOR,WEIGHT
FROM P;

/*找出使用供应商S1所供应零件的工程号码*/
SELECT DISTINCT JNO
FROM SPJ
WHERE SNO=&#39;S1&#39;;

/*找出工程项目J2使用的各种零件的名称及其数量*/
SELECT PNAME,QTY
FROM SPJ,P
WHERE SPJ.PNO=P.PNO AND JNO=&#39;J2&#39;;

/*找出上海厂商供应的所有零件号码*/
SELECT DISTINCT PNO
FROM SPJ,S
WHERE SPJ.SNO=S.SNO AND CITY=&#39;上海&#39;;

/*找出使用上海产的零件的工程名称*/
SELECT DISTINCT JNO
FROM SPJ,S
WHERE SPJ.SNO=S.SNO AND CITY=&#39;上海&#39;;

/*找出没有使用天津产的零件的工程号码*/
SELECT DISTINCT JNO
FROM SPJ,S
WHERE SPJ.SNO=S.SNO AND CITY!=&#39;天津&#39;;

/*把全部红色零件的颜色改成蓝色*/
UPDATE P
SET COLOR=&#39;蓝&#39;
WHERE COLOR=&#39;红&#39;;

/*由S5供给J4的零件P6改为由S3供应，请作出必要的修改*/
UPDATE SPJ
SET SNO=&#39;S3&#39;
WHERE SNO=&#39;S5&#39; AND PNO=&#39;P6&#39; AND JNO=&#39;J4&#39;;

/*从供应商关系中删除S2的记录，并从供应情况关系中删除相应的记录*/
ALTER TABLE SPJ 
ADD FOREIGN KEY (SNO) REFERENCES S(SNO) ON DELETE CASCADE;/*添加外键，设置级联删除*/
DELETE FROM S WHERE SNO=&#39;S2&#39;;
</code></pre>
<p>​<br>    &#x2F;<em>请将(S2,J6,P4,200)插入供应情况关系</em>&#x2F;<br>    INSERT INTO SPJ VALUES (‘S1’,’P1’,’J1’,200);</p>
<h3 id="4-问题说明"><a href="#4-问题说明" class="headerlink" title="4.问题说明"></a>4.问题说明</h3><pre><code>    请为三建工程项目建立一个供应情况的视图，包括供应商代码（SNO）、零件代码（PNO）、供应数量（QTY）。针对该视图完成下列查询：
</code></pre>
<p>（1）找出三建工程项目使用的各种零件代码及其数量；</p>
<p>（2）找出供应商S1的供应情况。</p>
<h4 id="代码解析-3"><a href="#代码解析-3" class="headerlink" title="&lt;1&gt;代码解析"></a>&lt;1&gt;代码解析</h4><p>​<br>    &#x2F;<em>为三建工程项目建立一个供应情况的视图，包括供应商代码（SNO）、零件代码（PNO）、供应数量（QTY）</em>&#x2F;<br>    CREATE VIEW PROD(SNO,PNO,QTY)<br>    AS<br>    SELECT SNO,PNO,QTY<br>    FROM SPJ<br>    WHERE JNO&#x3D;’J1’</p>
<pre><code>/*找出三建工程项目使用的各种零件代码及其数量*/
SELECT PNO,SUM(QTY)
FROM PROD
GROUP BY PNO;
</code></pre>
<p>​<br>    &#x2F;<em>找出供应商S1的供应情况</em>&#x2F;<br>    SELECT PNO,QTY<br>    FROM PROD<br>    WHERE SNO&#x3D;’S1’;</p>
<h2 id="二-openGauss实践平台实验"><a href="#二-openGauss实践平台实验" class="headerlink" title="二.openGauss实践平台实验"></a>二.openGauss实践平台实验</h2><h3 id="1-关系模型描述"><a href="#1-关系模型描述" class="headerlink" title="1.关系模型描述"></a>1.关系模型描述</h3><p>学籍管理数据库有如下关系模式：</p>
<p>学生Student（学号Sno，姓名Sname，性别Ssex，年龄Sage，系别Sdept）；</p>
<p>课程Course（课程号Cno，课程名称Cname，先修课Cpno，学分Ccredit）；</p>
<p>成绩SC（学号Sno，课程号Cno，成绩Grade）。</p>
<h4 id="构建关系模型"><a href="#构建关系模型" class="headerlink" title="&lt;1&gt;构建关系模型"></a>&lt;1&gt;构建关系模型</h4><p>​<br>    &#x2F;<em>构建关系模型</em>&#x2F;<br>    CREATE TABLE Student(<br>        Sno CHAR(10) PRIMARY KEY,	&#x2F;<em>– 列级完整性约束的方式，定义主码</em>&#x2F;<br>        Sname CHAR(20),<br>        Ssex CHAR(10),<br>        Sage INT,<br>        Sdept CHAR(10)<br>    );</p>
<pre><code>CREATE TABLE Course(
    Cno CHAR(10) PRIMARY KEY,	/*-- 列级完整性约束的方式，定义主码*/
    Cname CHAR(20),
    Cpno CHAR(10),
    Ccredit INT
);

CREATE TABLE SC(
    Sno CHAR(10),
    Cno CHAR(10),
    Grade INT,
    PRIMARY KEY (Sno,Cno),
    FOREIGN KEY (Sno) REFERENCES Student(Sno),	/*-- 表级完整性约束的方式，定义外码；注意参照列Cpno必须加括号*/
    FOREIGN KEY (Cno) REFERENCES Course(Cno)
);
</code></pre>
<h4 id="插入测试数据"><a href="#插入测试数据" class="headerlink" title="&lt;2&gt;插入测试数据"></a>&lt;2&gt;插入测试数据</h4><p>​<br>    &#x2F;<em>插入示例数据</em>&#x2F;<br>    INSERT INTO Student VALUES (‘1’,’SWQ’,’男’,20,’CS’);<br>    INSERT INTO Student VALUES (‘2’,’SSS’,’男’,19,’CS’);<br>    INSERT INTO Student VALUES (‘3’,’WWW’,’男’,17,’CS’);<br>    INSERT INTO Student VALUES (‘4’,’QQQ’,’男’,17,’IS’);</p>
<pre><code>INSERT INTO Course VALUES (&#39;1&#39;,&#39;OS&#39;,&#39;2&#39;,4);
INSERT INTO Course VALUES (&#39;2&#39;,&#39;MATH&#39;,&#39;3&#39;,5);
INSERT INTO Course VALUES (&#39;3&#39;,&#39;ENG&#39;,&#39;3&#39;,2);

INSERT INTO SC VALUES (&#39;1&#39;,&#39;1&#39;,94);
INSERT INTO SC VALUES (&#39;2&#39;,&#39;1&#39;,85);
INSERT INTO SC VALUES (&#39;3&#39;,&#39;1&#39;,72);
INSERT INTO SC VALUES (&#39;4&#39;,&#39;1&#39;,94);
INSERT INTO SC VALUES (&#39;1&#39;,&#39;2&#39;,69);
INSERT INTO SC VALUES (&#39;2&#39;,&#39;2&#39;,99);
INSERT INTO SC VALUES (&#39;3&#39;,&#39;2&#39;,77);
INSERT INTO SC VALUES (&#39;4&#39;,&#39;2&#39;,58);
INSERT INTO SC VALUES (&#39;1&#39;,&#39;3&#39;,100);
INSERT INTO SC VALUES (&#39;2&#39;,&#39;3&#39;,78);
INSERT INTO SC VALUES (&#39;3&#39;,&#39;3&#39;,87);
INSERT INTO SC VALUES (&#39;4&#39;,&#39;3&#39;,67);
</code></pre>
<h3 id="2-问题解析"><a href="#2-问题解析" class="headerlink" title="2.问题解析"></a>2.问题解析</h3><p>​<br>    &#x2F;<em>查询年龄不大于19的“女”生的学号和姓名。</em>&#x2F;<br>    SELECT Sno,Sname<br>    FROM Student<br>    WHERE Sage&lt;20 AND Ssex&#x3D;’女’;</p>
<pre><code>/*查询所有姓“王”的学生的学号、姓名和性别。*/
SELECT Sno,Sname,Ssex
FROM Student
WHERE Sname LIKE &#39;王%&#39;;

/*查询“CS”系年龄大于本系平均年龄的学生的学号、姓名和年龄。*/
SELECT Sno,Sname,Sage
FROM Student X
WHERE Sdept=&#39;CS&#39; AND Sage&gt;(
    SELECT AVG(Sage)
    FROM Student
    GROUP BY Sdept
    HAVING Sdept=&#39;CS&#39;
)

/*
错误写法：
SELECT Sno,Sname,Sage
FROM Student
WHERE Sdept=&#39;CS&#39;
GROUP BY Sdept
HAVING Sage&gt;AVG(Sage);
*/

/*查询每门课程的课程号、课程名、平均成绩、最低成绩和最高成绩。*/
SELECT DISTINCT Course.Cno,Cname,AVG(Grade),MIN(Grade),MAX(Grade)
FROM Course,SC
WHERE Course.Cno=SC.Cno
GROUP BY Course.Cno;

/*查询至少选修了学号为“200215121”的学生所选全部课程*/
SELECT Sno
FROM Student
WHERE NOT EXISTS(
    SELECT Cno
    FROM SC X
    WHERE Sno=&#39;200215121&#39; AND NOT EXISTS(
        SELECT *
        FROM SC Y
        WHERE Y.Sno=Student.Sno AND X.Cno=Y.Cno
    )
);

/*查询每门课程分数排名第1的学生学号、课程号和成绩。*/
SELECT Sno,Cno,Grade
FROM SC X
WHERE NOT EXISTS(
    SELECT *
    FROM SC Y
    WHERE X.Cno=Y.Cno AND Y.Grade&gt;X.Grade
);

/*查询每门课程分数排名第2的学生学号、课程号和成绩。*/
SELECT Sno,Cno,Grade
FROM SC X
WHERE EXISTS(
    SELECT Cno
    FROM SC Y
    WHERE X.Cno=Y.Cno AND X.Grade&lt;Y.Grade
    GROUP BY Y.Cno
    HAVING COUNT(Y.Sno)=1
);

/*将一个新学生元组（学号：200215228；姓名：陈冬；性别*/
INSERT
INTO Student(Sno,Sname,Ssex,Sage,Sdept)
VALUES(&#39;200215228&#39;,&#39;陈冬&#39;,&#39;男&#39;,18,&#39;IS&#39;);

/*将所有学生的年龄增加1岁。*/
UPDATE Student
SET Sage=Sage+1;

/*删除学号为“200215122”的学生的选课记录。*/
DELETE
FROM SC
WHERE Sno=&#39;200215122&#39;;

/*创建视图View_IS，找出Sdept为IS的学生的学号*/
CREATE VIEW View_IS(Sno,Sname)
AS
SELECT Sno,Sname
FROM Student
WHERE Sdept=&#39;IS&#39;;
</code></pre>
<h2 id="三-上机作业"><a href="#三-上机作业" class="headerlink" title="三.上机作业"></a>三.上机作业</h2><h3 id="1-需求分析"><a href="#1-需求分析" class="headerlink" title="1.需求分析"></a>1.需求分析</h3><h4 id="内容"><a href="#内容" class="headerlink" title="&lt;1&gt;内容"></a>&lt;1&gt;内容</h4><pre><code>    为某大学设计一套学籍管理数据库系统
</code></pre>
<h4 id="基本要求"><a href="#基本要求" class="headerlink" title="&lt;2&gt;基本要求"></a>&lt;2&gt;基本要求</h4><p>①设计学籍管理数据库，符合给定的语义（P3），并实现一定的功能需求（P4）<br>②使用一种DBMS，如SQL Server，具体不限</p>
<h3 id="2-概念结构设计"><a href="#2-概念结构设计" class="headerlink" title="2.概念结构设计"></a>2.概念结构设计</h3><h4 id="数据库语义"><a href="#数据库语义" class="headerlink" title="&lt;1&gt;数据库语义"></a>&lt;1&gt;数据库语义</h4><p>①学校有若干专业，每个专业每年招若干个班，每个班有若干学生<br>②每个专业有自己的教学计划，规定了该专业相关课程的性质（必修或选修）以及授课学期；例如，数据库课程对计算机专业为必修、在大三上学期，但对数学专业可能为选修、在大三下学期，而中文专业可能不学这门课<br>③一位教师可以给多个班带课，但不能给一个班带多门课<br>④一门课程最多允许学生一次补考；学生达到如下条件之一的被开除：不及格必修课累计达10学分、或不及格选修课累计达15学分<br>⑤上述语义未涉及到的事项和细节，可自行做出合理假定</p>
<h4 id="E-R图设计"><a href="#E-R图设计" class="headerlink" title="&lt;2&gt;E-R图设计"></a>&lt;2&gt;E-R图设计</h4><p><img src="https://i-blog.csdnimg.cn/blog_migrate/912e583d76c9b2ec0803211714b62171.png"></p>
<h3 id="3-逻辑结构设计"><a href="#3-逻辑结构设计" class="headerlink" title="3.逻辑结构设计"></a>3.逻辑结构设计</h3><h4 id="（1）关系模型"><a href="#（1）关系模型" class="headerlink" title="（1）关系模型"></a>（1）关系模型</h4><p>​<br>    DROP TABLE Schedule;<br>    DROP TABLE SC;<br>    DROP TABLE Student;<br>    DROP TABLE Teather;<br>    DROP TABLE Course;<br>    DROP TABLE Class;<br>    DROP TABLE Department;</p>
<p>专业信息表（专业代号和专业名）：</p>
<p>​<br>    CREATE TABLE Department(<br>        Dept CHAR(10) PRIMARY KEY,<br>        Dname CHAR(75)<br>    );</p>
<p>班级表（班级编号和从属专业）：</p>
<p>​<br>    CREATE TABLE Class(<br>        Class_no CHAR(10) PRIMARY KEY,<br>        Dept CHAR(10),<br>        FOREIGN KEY (Dept) REFERENCES Department(Dept) ON DELETE CASCADE<br>    );</p>
<p>学生表（学号、姓名、性别、出生年月、从属班级）：</p>
<p>​<br>    CREATE TABLE Student(<br>        Sno CHAR(10) PRIMARY KEY,<br>        Sname CHAR(20),<br>        Ssex CHAR(4),<br>        Sbrith CHAR(10),<br>        Class_no CHAR(20),<br>        FOREIGN KEY (Class_no) REFERENCES Class(Class_no) ON DELETE CASCADE<br>    );</p>
<p>课程表（课程号、课程名、从属专业、必&#x2F;选修、开课时间、学分）：</p>
<p>​<br>    CREATE TABLE Course(<br>        Cno CHAR(20) PRIMARY KEY,<br>        Cname CHAR(75),<br>        Dept CHAR(10),<br>        Creq CHAR(10),<br>        Cterm CHAR(20),<br>        Ccredit INT,<br>        FOREIGN KEY (Dept) REFERENCES Department(Dept) ON DELETE CASCADE<br>    );</p>
<p>教师表（编号、姓名、所带课程）：</p>
<p>​<br>    CREATE TABLE Teacher(<br>        Tno CHAR(10) PRIMARY KEY,<br>        Tname CHAR(20),<br>        Cno CHAR(10),<br>        FOREIGN KEY (Cno) REFERENCES Course(Cno) ON DELETE CASCADE<br>    );</p>
<p>上课表（班级、老师、课程号）：</p>
<p>​<br>    CREATE TABLE Schedule(<br>        Class_no CHAR(10),<br>        Cno CHAR(10),<br>        Tno CHAR(10),<br>        PRIMARY KEY (Class_no,Cno),<br>        FOREIGN KEY (Class_no) REFERENCES Class(Class_no) ON DELETE CASCADE,<br>        FOREIGN KEY (Cno) REFERENCES Course(Cno) ON DELETE CASCADE,<br>        FOREIGN KEY (Tno) REFERENCES Teacher(Tno) ON DELETE CASCADE<br>    );</p>
<p>成绩表（学号、课程号、成绩）：</p>
<p>​<br>    CREATE TABLE SC(<br>        Sno CHAR(10),<br>        Cno CHAR(10),<br>        Score INT,<br>        PRIMARY KEY (Sno,Cno),<br>        FOREIGN KEY (Sno) REFERENCES Student(Sno) ON DELETE CASCADE,<br>         FOREIGN KEY (Cno) REFERENCES Course(Cno) ON DELETE CASCADE<br>    );</p>
<p>其中相关约束条件均实现，各个编号的主码约束及引用约束。  </p>
<h3 id="4-功能实现"><a href="#4-功能实现" class="headerlink" title="4.功能实现"></a>4.功能实现</h3><p>*说明：由于示例数据数量庞大且与自己设计的表格结构不同，如果要在示例数据中自行添加其他信息过于繁杂，于是将课程信息表Course和学生信息表Student拆分成两部分，基本信息和细节信息表_Detail。见下面示例。<br>本数据库的功能实现采用MySQL软件实现，安装过程参考：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_64338546/article/details/127149096?spm=1001.2014.3001.5506" title="【MySQL基础】MySQL介绍及安装">【MySQL基础】MySQL介绍及安装<img src="https://i-blog.csdnimg.cn/blog_migrate/003a2ce7eb50c2e24a8c624c260c5930.png" alt="icon-
default.png?t&#x3D;N7T8">https://blog.csdn.net/m0_64338546&#x2F;article&#x2F;details&#x2F;127149096?spm&#x3D;1001.2014.3001.5506</a>完成后进入界面如下：</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/1f4aa57e5edc0f357d8688c3877bb324.png"></p>
<p> 建表结果：</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/226e6c620c54190be5bd6eabc8a25a30.png"></p>
<p>另外可使用table_status和desc命令查看表格详细数据：</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/cde497672b0b674364b7e6fbc2bc75ad.png"></p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/bb274a08847e8854f4719fcce5fb89a4.png"></p>
<h4 id="建库时应录入一定数量的（不能过少）学生、教师、课程、成绩等基本信息"><a href="#建库时应录入一定数量的（不能过少）学生、教师、课程、成绩等基本信息" class="headerlink" title="&lt;1&gt;建库时应录入一定数量的（不能过少）学生、教师、课程、成绩等基本信息"></a>&lt;1&gt;建库时应录入一定数量的（不能过少）学生、教师、课程、成绩等基本信息</h4><p>将示例数据文件通过C语言程序导出SQL插入信息语句，如下：</p>
<p>示例数据：</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/ba24a79a9bde63b6f40780345bc96984.png"></p>
<p>导出的SQL插入语句：</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/c20b757c92574505beb2946017fb2a29.png"></p>
<p>插入结果：</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/dd918f68acfc938d9057152b7a15b0b0.png"></p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/d3057357a7d4e952deced2417493b28d.png"></p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/4c6794ab2d25179d8b29f1c4bd9f6533.png"></p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/c80ab3a13c2d49e9a14e3314fdfc8d47.png"></p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/c3db46ba539941fed33d161dc47b0762.png"></p>
<h4 id="录入一位学生，应包含学号、姓名、性别、出生年月、班级等信息"><a href="#录入一位学生，应包含学号、姓名、性别、出生年月、班级等信息" class="headerlink" title="&lt;2&gt;录入一位学生，应包含学号、姓名、性别、出生年月、班级等信息"></a>&lt;2&gt;录入一位学生，应包含学号、姓名、性别、出生年月、班级等信息</h4><p>​<br>    &#x2F;<em>录入一位学生，应包含学号、姓名、性别、出生年月、班级等信息</em>&#x2F;<br>    INSERT INTO Student (Sno, Sname, Ssex, Sbrith, Class_no) VALUES (‘03051108’,’司武强’,’男’,’20030411’,’2103014’);</p>
<p>实际拆分成两部分插入：</p>
<p>​<br>    &#x2F;<em>录入一位学生，应包含学号、姓名、性别、出生年月、班级等信息</em>&#x2F;<br>    INSERT INTO Student (Sno, Sname, Ssex) VALUES (‘03051109’,’司武强’,’男’);<br>    INSERT INTO Student_Detail (Sno, Sbrith, Class_no) VALUES (‘03051109’,’20030411’,’210101’);</p>
<h4 id="按学号、姓名、专业三种方式查询学生基本信息"><a href="#按学号、姓名、专业三种方式查询学生基本信息" class="headerlink" title="&lt;3&gt;按学号、姓名、专业三种方式查询学生基本信息"></a>&lt;3&gt;按学号、姓名、专业三种方式查询学生基本信息</h4><p>​<br>    &#x2F;<em>按学号、姓名、专业三种方式查询学生基本信息</em>&#x2F;<br>    SELECT *<br>    FROM Student<br>    WHERE Sno&#x3D;’03051108’;</p>
<pre><code>SELECT *
FROM Student
WHERE Sname=&#39;司武强&#39;;

SELECT *
FROM Student,Class
WHERE Student.Class_no=Class.Class_no AND Dept=&#39;CS&#39;;
</code></pre>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/f0fd577e9a6cc2cb7c09c1023cc9d8bc.png"></p>
<h4 id="录入一位学生一门课的成绩"><a href="#录入一位学生一门课的成绩" class="headerlink" title="&lt;4&gt;录入一位学生一门课的成绩"></a>&lt;4&gt;录入一位学生一门课的成绩</h4><p>​<br>    &#x2F;<em>录入一位学生一门课的成绩</em>&#x2F;<br>    INSERT INTO SC (Sno,Cno,Score) VALUES (‘03051108’,’CS3121014’,99);</p>
<p>录入结果：</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/98e6d06dd16ce5436e2aac93f85ad6cd.png"></p>
<h4 id="查询一位学生所修的课程、性质（必修或选修）、学期、学分及成绩"><a href="#查询一位学生所修的课程、性质（必修或选修）、学期、学分及成绩" class="headerlink" title="&lt;5&gt;查询一位学生所修的课程、性质（必修或选修）、学期、学分及成绩"></a>&lt;5&gt;查询一位学生所修的课程、性质（必修或选修）、学期、学分及成绩</h4><p>​<br>    SELECT Student.Sno,Sname,Cname,Creq,Cterm,Score<br>    FROM Course,SC,Student<br>    WHERE Course.Cno&#x3D;SC.Cno AND SC.Sno&#x3D;Student.Sno AND (Student.Sno&#x3D;’03051108’ OR Sname&#x3D;’司武强’);</p>
<p>查询他的必修课平均成绩：</p>
<p>​<br>    SELECT AVG(Score)<br>    FROM SC<br>    WHERE Sno&#x3D;’03051108’ AND EXISTS(<br>        SELECT *<br>        FROM Course<br>        WHERE SC.Cno&#x3D;Course.Cno AND Course.Creq&#x3D;’必修’<br>    );<br>    &#x2F;<em>或</em>&#x2F;<br>    SELECT Student.Sno,Sname,AVG(Score)<br>    FROM Student,SC,Course<br>    WHERE Student.Sno&#x3D;SC.Sno AND SC.Cno&#x3D;Course.Cno<br>    GROUP BY Student.Sno,SC.Sno,Course.Creq<br>    HAVING Course.Creq&#x3D;’必修’ AND (SC.Sno&#x3D;’03051108’ OR Sname&#x3D;’司武强’);</p>
<p> 所有课程平均成绩（平均成绩应按学分加权）：</p>
<p>​<br>    SELECT Student.Sno,Sname,SUM(Score*Ccredit)&#x2F;SUM(Ccredit)<br>    FROM Student,SC,Course<br>    WHERE Student.Sno&#x3D;SC.Sno AND SC.Cno&#x3D;Course.Cno<br>    GROUP BY Student.Sno<br>    HAVING Student.Sno&#x3D;’03051108’ OR Sname&#x3D;’司武强’;</p>
<p>注：由于课程信息庞大，查询时皆忽略条件“必修”</p>
<p>查询结果：</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/c061cd1cbc43256dba341cce842c1fef.png"></p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/0524d3e8e4cea528fe7d439432b449db.png"></p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/bfbea01fbea4ba90344d8e8a3b4a76a5.png"></p>
<h4 id="查询一位学生被哪些教师教过课"><a href="#查询一位学生被哪些教师教过课" class="headerlink" title="&lt;6&gt;查询一位学生被哪些教师教过课"></a>&lt;6&gt;查询一位学生被哪些教师教过课</h4><p>​<br>    &#x2F;<em>查询一位学生被哪些教师教过课</em>&#x2F;<br>    SELECT Tname,Cname<br>    FROM Student,Schedule,Teacher,Course<br>    WHERE Student.Class_no&#x3D;Schedule.Class_no AND Schedule.Tno&#x3D;Teacher.Tno AND Schedule.Cno&#x3D;Course.Cno AND (Student.Sno&#x3D;’03051108’ OR Student.Sname&#x3D;’司武强’;</p>
<h4 id="查询快要被开除的学生（距被开除差3学分之内）"><a href="#查询快要被开除的学生（距被开除差3学分之内）" class="headerlink" title="&lt;7&gt;查询快要被开除的学生（距被开除差3学分之内）"></a>&lt;7&gt;查询快要被开除的学生（距被开除差3学分之内）</h4><p>​<br>    &#x2F;<em>查询快要被开除的学生（距被开除差3学分之内）</em>&#x2F;<br>    SELECT Sno,Sname<br>    FROM Student<br>    WHERE 10&lt;&#x3D;(<br>        SELECT SUM(Ccredit)<br>        FROM SC,Course<br>        WHERE Student.Sno&#x3D;SC.Sno AND SC.Cno&#x3D;Course.Cno AND Course.Creq&#x3D;’必修’ AND Score&lt;60<br>    ) OR 15&lt;&#x3D;(<br>        SELECT SUM(Ccredit)<br>        FROM SC,Course<br>        WHERE Student.Sno&#x3D;SC.Sno AND SC.Cno&#x3D;Course.Cno AND Course.Creq&#x3D;’选修’ AND Score&lt;60<br>    );</p>
<p>查询结果：</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/766ca586e00ab2d430092a38e54e9465.png"></p>
<h3 id="5-主要问题及解决"><a href="#5-主要问题及解决" class="headerlink" title="5.主要问题及解决"></a>5.主要问题及解决</h3><p>&lt;1&gt;问题：插入数据工作量庞大且繁琐，示例数据与期望表结构不同</p>
<pre><code>    解决：于是将课程信息表Course和学生信息表Student拆分成两部分，基本信息和细节信息表_Detail。将示例数据文件通过C语言程序导出SQL插入信息语句。

    改进：利用const char数组定义某个属性的可能取值，利用random函数插入细节数据
</code></pre>
<h3 id="6-总结"><a href="#6-总结" class="headerlink" title="6.总结"></a>6.总结</h3><pre><code>    数据库的查询速度极快，基本在0.01s左右。但唯一的不足之处在于插入数据不便，需要用INSERT语句且符合表的结构。采用图形界面将优化这一不足。
</code></pre>
<h3 id="7-附录"><a href="#7-附录" class="headerlink" title="7.附录"></a>7.附录</h3><h4 id="TXT转SQL-C语言程序脚本"><a href="#TXT转SQL-C语言程序脚本" class="headerlink" title="&lt;1&gt;TXT转SQL C语言程序脚本"></a>&lt;1&gt;TXT转SQL C语言程序脚本</h4><p>主程序（INSERT_SQL.c）：</p>
<p>​<br>    #define _CRT_SECURE_NO_WARNINGS<br>    #include&lt;stdio.h&gt;<br>    #include&lt;string.h&gt;<br>    #include&lt;stdlib.h&gt;<br>    #include”school_sql.h”</p>
<pre><code>int main()
&#123;

	INSERT_(&quot;Department&quot;,&quot;Department.txt&quot;, &quot;INSERT_Department.sql&quot;);
	INSERT_(&quot;Class&quot;,&quot;Class.txt&quot;, &quot;INSERT_Class.sql&quot;);
	INSERT_Course(&quot;Course&quot;, &quot;Course.txt&quot;, &quot;INSERT_Course.sql&quot;);
	INSERT_(&quot;Student&quot;,&quot;Student.txt&quot;, &quot;INSERT_Student.sql&quot;);
	INSERT_(&quot;SC&quot;,&quot;SC.txt&quot;, &quot;INSERT_SC.sql&quot;);

	return 0;
&#125;
</code></pre>
<p>头文件（school.h）:</p>
<p>​<br>    #ifndef SCHOOL_SQL_H<br>    #define SCHOOL_SQL_H<br>    #define _CRT_SECURE_NO_WARNINGS<br>    #include &lt;stdio.h&gt;<br>    #include &lt;stdlib.h&gt;<br>    #include &lt;string.h&gt;</p>
<pre><code>const char Dept[5]=
&#123;
	&quot;CS&quot;, &quot;IS&quot;, &quot;AI&quot;, &quot;ES&quot;, &quot;CE&quot;
&#125;;

const char Class_no[10]=
&#123;
	&quot;_210101&quot;, &quot;_210102&quot;, &quot;_210103&quot;, &quot;_210204&quot;，&quot;_210305&quot;，&quot;_210406&quot;，&quot;_210407&quot;，&quot;_210508&quot;，&quot;_210509&quot;，&quot;_210510&quot;
&#125;;

const char Creq=
&#123;
    &quot;选修&quot;，&quot;必修&quot;
&#125;;
</code></pre>
<p>​<br>    &#x2F;&#x2F;函数功能：读取文本数据生成插入SQL语句<br>    void INSERT_(char [], char [], char []);<br>    #endif</p>
<p>插入函数（school.c）:</p>
<p>​<br>    #include”school_sql.h”</p>
<pre><code>/*
@function：将文件中的数据导出成SQL插入语句
@parameter：插入表的名字，数据来源文件名src，导出文件名dst
@account：默认导出形式字符CHAR
*/
void INSERT_(char table[], char src[], char dst[])
&#123;
	FILE* fr, * fw;
	char c;
	if ((fr = fopen(src, &quot;r&quot;)) == NULL) &#123;
		printf(&quot;%s File not exist\n&quot;, src);
		exit(0);
	&#125;
	fw = fopen(dst, &quot;w&quot;);
	fprintf(fw, &quot;\nINSERT INTO %s VALUES\n(&#39;&quot;,table);
	while (!feof(fr)) &#123;
		c = fgetc(fr);
		printf(&quot;%c&quot;, c);
		if (c == &#39;\n&#39;)fprintf(fw, &quot;&#39;),\n(&#39;&quot;);
		else if (c == &#39;,&#39;)fprintf(fw, &quot;&#39;,&#39;&quot;);
		else fprintf(fw, &quot;%c&quot;, c);
	&#125;
	//需手动检查结果是否正确 
	fprintf(fw, &quot;&#39;);&quot;);
&#125;

/*
@function：将文件中的数据导出成SQL插入语句（定制）
@parameter：插入表的名字，数据来源文件名src，导出文件名dst
@account：第三个数据形式为INT（插入SQL语句第三个数据无&#39;&#39;）
*/
void INSERT_Course(char table[], char src[], char dst[])
&#123;
	FILE* fr, * fw;
	char c;
	int i = 0, cnt = 0;
	if ((fr = fopen(src, &quot;r&quot;)) == NULL) &#123;
		printf(&quot;%s File not exist\n&quot;, src);
		exit(0);
	&#125;
	fw = fopen(dst, &quot;w&quot;);
	fprintf(fw, &quot;\nINSERT INTO %s VALUES\n(&#39;&quot;, table);
	while (!feof(fr)) &#123;
		c = fgetc(fr);
		printf(&quot;%c&quot;, c);
		if (c == &#39;\n&#39;) &#123;
			cnt = 0;
			fprintf(fw, &quot;),\n(&#39;&quot;);
		&#125;
		else if (c == &#39;,&#39;) &#123;
			cnt++;
			if (cnt == 2)fprintf(fw, &quot;&#39;,&quot;);
			else fprintf(fw, &quot;&#39;,&#39;&quot;);
		&#125;
		else fprintf(fw, &quot;%c&quot;, c);
	&#125;
	//需手动检查结果是否正确 
	fprintf(fw, &quot;);&quot;);
&#125;
</code></pre>
<p>本文转自 <a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_32971095/article/details/134984670">https://blog.csdn.net/qq_32971095/article/details/134984670</a>，如有侵权，请联系删除。</p>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/13/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%97%E6%BB%A4%E6%B3%A2%E5%99%A8%E8%AE%BE%E8%AE%A1%E2%80%94%E2%80%94Matlab%E5%AE%9E%E7%8E%B0%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86%EF%BC%9C1%EF%BC%9E/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="SWQ">
      <meta itemprop="description" content="舟遥遥以轻飏，风飘飘而吹衣">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Switch">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/12/13/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%97%E6%BB%A4%E6%B3%A2%E5%99%A8%E8%AE%BE%E8%AE%A1%E2%80%94%E2%80%94Matlab%E5%AE%9E%E7%8E%B0%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86%EF%BC%9C1%EF%BC%9E/" class="post-title-link" itemprop="url">数字滤波器设计——Matlab实现数字信号处理＜1＞</a>
        </h2>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-12-13 13:05:15" itemprop="dateCreated datePublished" datetime="2023-12-13T13:05:15+08:00">2023-12-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-02-09 14:22:41" itemprop="dateModified" datetime="2025-02-09T14:22:41+08:00">2025-02-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a>
                </span>
            </span>

          
            <span id="/2023/12/13/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%97%E6%BB%A4%E6%B3%A2%E5%99%A8%E8%AE%BE%E8%AE%A1%E2%80%94%E2%80%94Matlab%E5%AE%9E%E7%8E%B0%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86%EF%BC%9C1%EF%BC%9E/" class="post-meta-item leancloud_visitors" data-flag-title="数字滤波器设计——Matlab实现数字信号处理＜1＞" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2023/12/13/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%97%E6%BB%A4%E6%B3%A2%E5%99%A8%E8%AE%BE%E8%AE%A1%E2%80%94%E2%80%94Matlab%E5%AE%9E%E7%8E%B0%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86%EF%BC%9C1%EF%BC%9E/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2023/12/13/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%97%E6%BB%A4%E6%B3%A2%E5%99%A8%E8%AE%BE%E8%AE%A1%E2%80%94%E2%80%94Matlab%E5%AE%9E%E7%8E%B0%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86%EF%BC%9C1%EF%BC%9E/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>5.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>5 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>目录</strong></p>
<p><a href="about:blank#%E4%B8%80.%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9">一.实验内容</a></p>
<p><a href="about:blank#%E4%BA%8C.%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90">二.代码分析</a></p>
<p><a href="about:blank#1.%E4%BF%A1%E5%8F%B7%E4%BA%A7%E7%94%9F%E9%83%A8%E5%88%86">1.信号产生部分</a></p>
<p><a href="about:blank#2.%E5%88%A9%E7%94%A8%E5%82%85%E7%AB%8B%E5%8F%B6%E7%BA%A7%E6%95%B0%E5%B1%95%E5%BC%80%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%8C%E8%87%AA%E7%94%B1%E7%94%9F%E6%88%90%E6%89%80%E9%9C%80%E7%9A%84x%28t%29">2.利用傅立叶级数展开的方法，自由生成所需的x(t)</a></p>
<p><a href="about:blank#3.%E9%80%9A%E8%BF%87%E9%80%89%E6%8B%A9%E4%B8%8D%E5%90%8C%E7%9A%84%E9%87%87%E6%A0%B7%E9%97%B4%E9%9A%94T%EF%BC%88%E5%88%86%E5%88%AB%E9%80%89T%3E%E6%88%96%3C1%2F2fc%EF%BC%89%EF%BC%8C%E4%BB%8Ex%28t%29%E8%8E%B7%E5%BE%97%E7%9B%B8%E5%BA%94%E7%9A%84x%28n%29">3.通过选择不同的采样间隔T（分别选T&gt;或&lt;1&#x2F;2fc），从x(t)获得相应的x(n)</a></p>
<p><a href="about:blank#3.%E5%AF%B9%E8%8E%B7%E5%BE%97%E7%9A%84%E4%B8%8D%E5%90%8Cx%28n%29%E5%88%86%E5%88%AB%E4%BD%9C%E5%82%85%E7%AB%8B%E5%8F%B6%E5%8F%98%E6%8D%A2%EF%BC%8C%E5%88%86%E6%9E%90%E5%85%B6%E9%A2%91%E7%8E%87%E5%93%8D%E5%BA%94%E7%89%B9%E6%80%A7%EF%BC%88%E7%BB%99%E5%87%BA%E5%B9%85%E9%A2%91%E4%B8%8E%E7%9B%B8%E9%A2%91%E7%89%B9%E6%80%A7%E6%9B%B2%E7%BA%BF%EF%BC%89">3.对获得的不同x(n)分别作傅立叶变换，分析其频率响应特性（给出幅频与相频特性曲线）</a></p>
<p><a href="about:blank#4.%E5%88%A9%E7%94%A8%E5%B7%B4%E7%89%B9%E6%B2%83%E6%80%9D%E6%BB%A4%E6%B3%A2%E5%99%A8%E8%AE%BE%E8%AE%A1%E6%95%B0%E5%AD%97%E6%BB%A4%E6%B3%A2%E5%99%A8">4.利用巴特沃思滤波器设计数字滤波器</a></p>
<p><a href="about:blank#%3C1%3E%E4%BD%8E%E9%80%9A%E6%BB%A4%E6%B3%A2%E5%99%A8">&lt;1&gt;低通滤波器</a></p>
<p><a href="about:blank#%3C2%3E%E9%AB%98%E9%80%9A%E6%BB%A4%E6%B3%A2%E5%99%A8">&lt;2&gt;高通滤波器</a></p>
<p><a href="about:blank#%3C3%3E%E7%BB%98%E5%9B%BE">&lt;3&gt;绘图</a></p>
<p><a href="about:blank#5.%E5%88%A9%E7%94%A8%E7%AA%97%E5%87%BD%E6%95%B0%E8%AE%BE%E8%AE%A1%E6%B3%95%E6%88%96%E9%A2%91%E7%8E%87%E9%87%87%E6%A0%B7%E6%B3%95%E8%AE%BE%E8%AE%A1%E6%95%B0%E5%AD%97%E6%BB%A4%E6%B3%A2%E5%99%A8">5.利用窗函数设计法或频率采样法设计数字滤波器</a></p>
<p><a href="about:blank#%3C1%3E%E9%AB%98%E9%80%9A%E6%BB%A4%E6%B3%A2%E5%99%A8">&lt;1&gt;高通滤波器</a></p>
<p><a href="about:blank#%3C2%3E%E4%BD%8E%E9%80%9A%E6%BB%A4%E6%B3%A2%E5%99%A8">&lt;2&gt;低通滤波器</a></p>
<p><a href="about:blank#%3C3%3E%E7%BB%98%E5%9B%BE">&lt;3&gt;绘图</a></p>
<p><a href="about:blank#%E4%B8%89.%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C">三.实验结果</a></p>
<hr>
<h2 id="一-实验内容"><a href="#一-实验内容" class="headerlink" title="一.实验内容"></a>一.实验内容</h2><p>1．利用傅立叶级数展开的方法，自由生成所需的x(t)；</p>
<p>2．通过选择不同的采样间隔T（分别选T&gt;或&lt;1&#x2F;2fc），从x(t)获得相应的x(n)（作出x(n)图形）；</p>
<p>3．对获得的不同x(n)分别作傅立叶变换，分析其频率响应特性（给出幅频与相频特性曲线）；</p>
<p>4．利用巴特沃思、切比雪夫或椭圆滤波器设计数字滤波器（滤波特性自定），要求通过改变滤波器参数或特性（低通、高通、带通或带阻）设计至少两种数字滤波器，分析所设计滤波器（画出频率特性曲线），并对上述给出的不同x(n)分别进行滤波（画出滤波结果），然后加以讨论；</p>
<p>5．利用窗函数设计法或频率采样法设计数字滤波器（滤波特性自定），要求通过改变滤波器参数或特性（低通、高通、带通或带阻等）设计至少两种数字滤波器，分析所设计滤波器（画出频率特性曲线），并对上述给出的不同x(n)分别进行滤波（画出滤波结果），然后加以讨论。</p>
<h2 id="二-代码分析"><a href="#二-代码分析" class="headerlink" title="二.代码分析"></a>二.代码分析</h2><h5 id="1-信号产生部分"><a href="#1-信号产生部分" class="headerlink" title="1.信号产生部分"></a>1.信号产生部分</h5><p>​<br>​    function [signal]&#x3D;signal_xt(t_length,T,f,A,u)<br>​    %%  函数描述<br>​    %   功能：利用傅立叶级数展开的方法，自由生成所需的x(t)（不含直流量）；<br>​    %   输入参数：产生序列的长度t_length；采样间隔T；f(t)的基波频率f；傅立叶级数展开的各项幅值和相位。故最高频率为fc&#x3D;length(A)<em>f<br>​    %   使用举例：signal&#x3D;signal_xt(3,0.01,1,[1,2,3,4],[0,1,0,1])<br>​    %%  t,y初始化并计算<br>​    t&#x3D;0:T:t_length-T;<br>​    t_num&#x3D;t_length&#x2F;T;<br>​    signal&#x3D;zeros(1,t_num);<br>​    max&#x3D;0;<br>​    min&#x3D;0;<br>​    for i&#x3D;1:t_num<br>​        for k&#x3D;1:length(A)<br>​            %   计算函数值<br>​            signal(i)&#x3D; signal(i) + A(k)<em>cos(2</em>pi</em>k*t(i)*f+u(k));<br>​            %   最大最小值记录<br>​            if max&lt;signal(i)<br>​                max&#x3D;signal(i);<br>​            end<br>​            if min&gt;signal(i)<br>​                min&#x3D;signal(i);<br>​            end<br>​        end<br>​    end<br>​    %%  结果展示<br>​    figure;<br>​    subplot(2,1,1);<br>​    plot(t,signal);<br>​    %   x，y轴范围限制及标题<br>​    axis([0-0.1,t_length+0.1,min-0.5,max+0.5])<br>​    title(‘x(t)’);<br>​    xlabel(‘t’);<br>​    ylabel(‘x(t)’);<br>​    grid on<br>​<br>    subplot(2,1,2);<br>    stem(t,signal,”.”);<br>    %   x，y轴范围限制及标题<br>    axis([0-0.1,t_length+0.1,min-0.5,max+0.5])<br>    title(‘x(t)’);<br>    xlabel(‘t’);<br>    ylabel(‘x(t)’);<br>    grid on</p>
<p>function [signal]&#x3D;signal_xt(t_length,T,f,A,u)<br>%%  函数描述<br>%   功能：利用傅立叶级数展开的方法，自由生成所需的x(t)（不含直流量）；<br>%   输入参数：产生序列的长度t_length；采样间隔T；f(t)的基波频率f；傅立叶级数展开的各项幅值和相位。故最高频率为fc&#x3D;length(A)*f<br>%   使用举例：signal&#x3D;signal_xt(3,0.01,1,[1,2,3,4],[0,1,0,1])</p>
<h5 id="2-利用傅立叶级数展开的方法，自由生成所需的x-t"><a href="#2-利用傅立叶级数展开的方法，自由生成所需的x-t" class="headerlink" title="2.利用傅立叶级数展开的方法，自由生成所需的x(t)"></a>2.利用傅立叶级数展开的方法，自由生成所需的x(t)</h5><p>​<br>​    %%  利用傅立叶级数展开的方法，自由生成所需的x(t)，即signal_origin；<br>​    t_length&#x3D;1;     %生成长度<br>​    f&#x3D;1;            %基础频率<br>​    A&#x3D;[3,1,1,3];    %各项幅度<br>​    u&#x3D;[-1,0,1,0];   %各项相位<br>​    signal_origin&#x3D;signal_xt(t_length,0.01,f,A,u);<br>​    fc&#x3D;f*length(A);</p>
<h5 id="3-通过选择不同的采样间隔T（分别选T-或"><a href="#3-通过选择不同的采样间隔T（分别选T-或" class="headerlink" title="3.通过选择不同的采样间隔T（分别选T&gt;或&lt;1&#x2F;2fc），从x(t)获得相应的x(n)"></a>3.通过选择不同的采样间隔T（分别选T&gt;或&lt;1&#x2F;2fc），从x(t)获得相应的x(n)</h5><p>​<br>​    %%  通过选择不同的采样间隔T（分别选T&gt;或&lt;1&#x2F;2fc），从x(t)获得相应的x(n)；<br>​    T&#x3D;[1&#x2F;(2<em>fc+1),1&#x2F;fc,1&#x2F;(4</em>fc)];<br>​    N&#x3D;zeros(1,length(T));<br>​    for i&#x3D;1:length(T)<br>​        N(i)&#x3D;1&#x2F;T(i);<br>​    end<br>​    x1&#x3D;signal_xt(t_length,T(1),f,A,u);<br>​    x2&#x3D;signal_xt(t_length,T(2),f,A,u);<br>​    x3&#x3D;signal_xt(t_length,T(3),f,A,u);</p>
<p>选取频率分别为2fc+1、fc、4fc</p>
<h5 id="3-对获得的不同x-n-分别作傅立叶变换，分析其频率响应特性（给出幅频与相频特性曲线）"><a href="#3-对获得的不同x-n-分别作傅立叶变换，分析其频率响应特性（给出幅频与相频特性曲线）" class="headerlink" title="3.对获得的不同x(n)分别作傅立叶变换，分析其频率响应特性（给出幅频与相频特性曲线）"></a>3.对获得的不同x(n)分别作傅立叶变换，分析其频率响应特性（给出幅频与相频特性曲线）</h5><p>​<br>​    %%  对获得的不同x(n)分别作傅立叶变换，分析其频率响应特性（给出幅频与相频特性曲线）；<br>​    X1&#x3D;fft(x1,N(1));<br>​    X2&#x3D;fft(x2,N(2));<br>​    X3&#x3D;fft(x3,N(3));<br>​<br>    %   绘制<br>    figure;<br>    %   幅值绘制<br>    subplot(2,3,1);<br>    stem(0:N(1)-1,abs(X1),’.’);<br>    title(“X1”);<br>    grid on</p>
<pre><code>subplot(2,3,2);
stem(0:N(2)-1,abs(X2),&#39;.&#39;);
title(&quot;X2&quot;);
grid on

subplot(2,3,3);
stem(0:N(3)-1,abs(X3),&#39;.&#39;);
title(&quot;X3&quot;);
grid on

%   相位绘制
subplot(2,3,4);
stem(0:N(1)-1,angle(X1),&#39;.&#39;);
title(&quot;X1&quot;);
grid on

subplot(2,3,5);
stem(0:N(2)-1,angle(X2),&#39;.&#39;);
title(&quot;X2&quot;);
grid on

subplot(2,3,6);
stem(0:N(3)-1,angle(X3),&#39;.&#39;);
title(&quot;X3&quot;);
grid on
</code></pre>
<p>使用 fft 函数进行 DFT，注意结果频率响应是复数，使用abs函数得其幅值，angle函数得其相位。</p>
<h5 id="4-利用巴特沃思滤波器设计数字滤波器"><a href="#4-利用巴特沃思滤波器设计数字滤波器" class="headerlink" title="4.利用巴特沃思滤波器设计数字滤波器"></a>4.利用巴特沃思滤波器设计数字滤波器</h5><h6 id="低通滤波器"><a href="#低通滤波器" class="headerlink" title="&lt;1&gt;低通滤波器"></a>&lt;1&gt;低通滤波器</h6><p>​<br>​    %   设置低通滤波器参数<br>​    wp&#x3D;0.35;    %通带边界频率<br>​    ws&#x3D;0.7;     %阻带截止频率<br>​    Rp&#x3D;3;<br>​    As&#x3D;15;<br>​    %   计算滤波器阶数N和3dB截止频率wc<br>​    [Nc,wc]&#x3D;buttord(wp,ws,Rp,As,’s’);<br>​    %   计算滤波器系统函数分子分母多项式系数<br>​    [Bz,Az]&#x3D;butter(Nc,wc,’low’);<br>​    wk&#x3D;64;<br>​    Hk&#x3D;freqz(Bz,Az,wk);</p>
<p>参数设置及函数使用参考课本《数字信号处理》</p>
<h6 id="高通滤波器"><a href="#高通滤波器" class="headerlink" title="&lt;2&gt;高通滤波器"></a>&lt;2&gt;高通滤波器</h6><p>​<br>​    %   设置高通滤波器参数<br>​    wp&#x3D;0.75;<br>​    ws&#x3D;0.5;<br>​    rp&#x3D;3;<br>​    rs&#x3D;15;<br>​    [Nc,wc]&#x3D;buttord(wp,ws,rp,rs,’s’);<br>​    [Bz,Az]&#x3D;butter(Nc,wc,’high’);<br>​    wk&#x3D;64;<br>​    Hk&#x3D;freqz(Bz,Az,wk);</p>
<h6 id="绘图"><a href="#绘图" class="headerlink" title="&lt;3&gt;绘图"></a>&lt;3&gt;绘图</h6><p>​<br>​    %   绘图<br>​    figure;<br>​    subplot(2,3,1);<br>​    stem(0:1&#x2F;63:1,abs(Hk),’.’);<br>​    xlabel(‘频率’);<br>​    ylabel(‘滤波器幅度&#x2F;dB’);<br>​    grid on<br>​<br>    %   滤波后结果<br>    m1&#x3D;filter(Bz,Az,x1);<br>    m2&#x3D;filter(Bz,Az,x2);<br>    m3&#x3D;filter(Bz,Az,x3);<br>    Y1&#x3D;fft(m1,N(1));<br>    Y2&#x3D;fft(m2,N(2));<br>    Y3&#x3D;fft(m3,N(3));<br>    %   绘图<br>    subplot(2,3,4);<br>    stem(0:N(1)-1,abs(Y1),’.’);<br>    title(‘滤波后Y频率特性’);<br>    grid on<br>    subplot(2,3,5);<br>    stem(0:N(2)-1,abs(Y2),’.’);<br>    title(‘滤波后Y频率特性’);<br>    grid on<br>    subplot(2,3,6);<br>    stem(0:N(3)-1,abs(Y3),’.’);<br>    title(‘滤波后Y频率特性’);<br>    grid on</p>
<h5 id="5-利用窗函数设计法或频率采样法设计数字滤波器"><a href="#5-利用窗函数设计法或频率采样法设计数字滤波器" class="headerlink" title="5.利用窗函数设计法或频率采样法设计数字滤波器"></a>5.利用窗函数设计法或频率采样法设计数字滤波器</h5><h6 id="高通滤波器-1"><a href="#高通滤波器-1" class="headerlink" title="&lt;1&gt;高通滤波器"></a>&lt;1&gt;高通滤波器</h6><p>​<br>​    %   设置高通滤波器参数<br>​    wp&#x3D;pi&#x2F;2;<br>​    ws&#x3D;pi&#x2F;4;<br>​    Bt&#x3D;wp-ws;   %过渡带宽度<br>​    N0&#x3D;ceil(6.2*pi&#x2F;Bt); %汉宁窗计算所需h(n)长度N0<br>​    Nn&#x3D;N0+mod(N0+1,2);  %确保h(n)长度为奇数<br>​    wc&#x3D;(wp+ws)&#x2F;2&#x2F;pi;    %理想高通滤波器通带截止频率<br>​    hn&#x3D;fir1(Nn-1,wc,’HIGH’,hanning(Nn));<br>​    %   高通滤波器频率响应<br>​    Hk&#x3D;fft(hn,length(hn));</p>
<h6 id="低通滤波器-1"><a href="#低通滤波器-1" class="headerlink" title="&lt;2&gt;低通滤波器"></a>&lt;2&gt;低通滤波器</h6><p>​<br>​    %   设置低通滤波器参数<br>​    wp&#x3D;pi&#x2F;4;<br>​    ws&#x3D;pi&#x2F;2;<br>​    Bt&#x3D;abs(wp-ws);   %过渡带宽度<br>​    N0&#x3D;ceil(6.2*pi&#x2F;Bt); %汉宁窗计算所需h(n)长度N0<br>​    Nn&#x3D;N0+mod(N0+1,2);  %确保h(n)长度为奇数<br>​    wc&#x3D;(wp+ws)&#x2F;2&#x2F;pi;    %理想高通滤波器通带截止频率<br>​    hn&#x3D;fir1(Nn-1,wc,’LOW’,hanning(Nn));<br>​    %   低通滤波器频率响应<br>​    Hk&#x3D;fft(hn,length(hn));</p>
<h6 id="绘图-1"><a href="#绘图-1" class="headerlink" title="&lt;3&gt;绘图"></a>&lt;3&gt;绘图</h6><p>​<br>​    %   滤波结果<br>​    y1&#x3D;conv(hn,x1);<br>​    y2&#x3D;conv(hn,x2);<br>​    y3&#x3D;conv(hn,x3);<br>​    n1&#x3D;length(y1);<br>​    n2&#x3D;length(y2);<br>​    n3&#x3D;length(y3);<br>​    Y1&#x3D;fft(y1,n1);<br>​    Y2&#x3D;fft(y2,n2);<br>​    Y3&#x3D;fft(y3,n3);<br>​    %   绘图<br>​    figure;<br>​    subplot(2,3,1);<br>​    stem(0:Nn-1,hn,’.’);<br>​    xlabel(‘n’);<br>​    ylabel(‘h(n)’);<br>​    grid on<br>​    subplot(2,3,2);<br>​    stem(0:Nn-1,abs(Hk),’.’);<br>​    xlabel(‘k’);<br>​    ylabel(‘H(k)’);<br>​    grid on<br>​    subplot(2,3,4);<br>​    stem(0:n1-1,abs(Y1),’.’);<br>​    title(‘滤波后Y频率特性’);<br>​    grid on<br>​    subplot(2,3,5);<br>​    stem(0:n2-1,abs(Y2),’.’);<br>​    title(‘滤波后Y频率特性’);<br>​    grid on<br>​    subplot(2,3,6);<br>​    stem(0:n3-1,abs(Y3),’.’);<br>​    title(‘滤波后Y频率特性’);<br>​    grid on</p>
<h2 id="三-实验结果"><a href="#三-实验结果" class="headerlink" title="三.实验结果"></a>三.实验结果</h2><p><img src="https://i-blog.csdnimg.cn/blog_migrate/e404226ec441727c6370000e1fe978b0.png"></p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/4d098f58a0b1f335d62fc631ac9bf1b8.png"></p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/aaf3e4f6a8465e5e2a158ebfd1c1b9cf.png"></p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/3fc4cd9d29dc56cd60409b4c12728d90.png"></p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/c551894f0d504e9663311db49f1e796b.png"></p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/d1539ef72b30697b76fb425b6b10928a.png"></p>
<p>本文转自 <a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_32971095/article/details/134966834">https://blog.csdn.net/qq_32971095/article/details/134966834</a>，如有侵权，请联系删除。</p>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/11/26/%E9%9A%8F%E7%AC%94/%E8%BF%99%E6%AC%A1%E5%8F%AF%E8%83%BD%E6%98%AF%E6%88%91%E4%BB%AC%E8%BF%99%E6%9D%A1%E8%89%87%E4%B8%8A%E7%9A%84%E5%85%84%E5%BC%9F%E4%BB%AC%E6%9C%80%E5%90%8E%E4%B8%80%E6%AC%A1%E4%B8%80%E8%B5%B7%E6%AF%94%E8%B5%9B%E4%BA%86.../">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="SWQ">
      <meta itemprop="description" content="舟遥遥以轻飏，风飘飘而吹衣">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Switch">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/11/26/%E9%9A%8F%E7%AC%94/%E8%BF%99%E6%AC%A1%E5%8F%AF%E8%83%BD%E6%98%AF%E6%88%91%E4%BB%AC%E8%BF%99%E6%9D%A1%E8%89%87%E4%B8%8A%E7%9A%84%E5%85%84%E5%BC%9F%E4%BB%AC%E6%9C%80%E5%90%8E%E4%B8%80%E6%AC%A1%E4%B8%80%E8%B5%B7%E6%AF%94%E8%B5%9B%E4%BA%86.../" class="post-title-link" itemprop="url">这次可能是我们这条艇上的兄弟们最后一次一起比赛了...</a>
        </h2>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-11-26 00:00:00" itemprop="dateCreated datePublished" datetime="2023-11-26T00:00:00+08:00">2023-11-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-02-09 14:46:15" itemprop="dateModified" datetime="2025-02-09T14:46:15+08:00">2025-02-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">随笔</span></a>
                </span>
            </span>

          
            <span id="/2023/11/26/%E9%9A%8F%E7%AC%94/%E8%BF%99%E6%AC%A1%E5%8F%AF%E8%83%BD%E6%98%AF%E6%88%91%E4%BB%AC%E8%BF%99%E6%9D%A1%E8%89%87%E4%B8%8A%E7%9A%84%E5%85%84%E5%BC%9F%E4%BB%AC%E6%9C%80%E5%90%8E%E4%B8%80%E6%AC%A1%E4%B8%80%E8%B5%B7%E6%AF%94%E8%B5%9B%E4%BA%86.../" class="post-meta-item leancloud_visitors" data-flag-title="这次可能是我们这条艇上的兄弟们最后一次一起比赛了..." title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2023/11/26/%E9%9A%8F%E7%AC%94/%E8%BF%99%E6%AC%A1%E5%8F%AF%E8%83%BD%E6%98%AF%E6%88%91%E4%BB%AC%E8%BF%99%E6%9D%A1%E8%89%87%E4%B8%8A%E7%9A%84%E5%85%84%E5%BC%9F%E4%BB%AC%E6%9C%80%E5%90%8E%E4%B8%80%E6%AC%A1%E4%B8%80%E8%B5%B7%E6%AF%94%E8%B5%9B%E4%BA%86.../#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2023/11/26/%E9%9A%8F%E7%AC%94/%E8%BF%99%E6%AC%A1%E5%8F%AF%E8%83%BD%E6%98%AF%E6%88%91%E4%BB%AC%E8%BF%99%E6%9D%A1%E8%89%87%E4%B8%8A%E7%9A%84%E5%85%84%E5%BC%9F%E4%BB%AC%E6%9C%80%E5%90%8E%E4%B8%80%E6%AC%A1%E4%B8%80%E8%B5%B7%E6%AF%94%E8%B5%9B%E4%BA%86.../" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>192</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​        我一直在想，这次可能是我们这条艇上的兄弟们最后一次一起比赛了。</p>
<p>​        横琴前一天的夜里、比完赛晚宴完的晚上，望着窗外幽幽的夜色，一股孤寂席卷全身，忍不住留下悲伤的泪水。这是繁华之后的落寞，盛筵必散的不甘。</p>
<p>​        想起往日的训练，一起下水的日子，兄弟们一起，从不缺席，今后可能再也没有这样的机会了。可能加入到学弟的艇上，但不会是我们这批人了。多想本科延长，兄弟们继续作为主力，再划那么个六七年啊!</p>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/11/15/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2023%E5%B9%B4FPGA%E5%88%9B%E6%96%B0%E5%A4%A7%E8%B5%9B%E8%AE%B0%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="SWQ">
      <meta itemprop="description" content="舟遥遥以轻飏，风飘飘而吹衣">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Switch">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/11/15/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2023%E5%B9%B4FPGA%E5%88%9B%E6%96%B0%E5%A4%A7%E8%B5%9B%E8%AE%B0%E5%BD%95/" class="post-title-link" itemprop="url">2023年FPGA创新大赛记录</a>
        </h2>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-11-15 16:45:48" itemprop="dateCreated datePublished" datetime="2023-11-15T16:45:48+08:00">2023-11-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-02-09 14:11:29" itemprop="dateModified" datetime="2025-02-09T14:11:29+08:00">2025-02-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a>
                </span>
            </span>

          
            <span id="/2023/11/15/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2023%E5%B9%B4FPGA%E5%88%9B%E6%96%B0%E5%A4%A7%E8%B5%9B%E8%AE%B0%E5%BD%95/" class="post-meta-item leancloud_visitors" data-flag-title="2023年FPGA创新大赛记录" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2023/11/15/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2023%E5%B9%B4FPGA%E5%88%9B%E6%96%B0%E5%A4%A7%E8%B5%9B%E8%AE%B0%E5%BD%95/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2023/11/15/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2023%E5%B9%B4FPGA%E5%88%9B%E6%96%B0%E5%A4%A7%E8%B5%9B%E8%AE%B0%E5%BD%95/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>21k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>19 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>目录</strong></p>
<p><a href="about:blank#%E4%B8%80.%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF">一.基本信息</a></p>
<p><a href="about:blank#%E4%BA%8C.%E8%AE%BE%E8%AE%A1%E8%AE%B0%E5%BD%95">二.设计记录</a></p>
<p><a href="about:blank#1.%E4%BB%BB%E5%8A%A1%E5%88%86%E8%A7%A3">1.任务分解</a></p>
<p><a href="about:blank#2.%E6%A8%A1%E5%9D%97%E8%AE%BE%E8%AE%A1">2.模块设计</a></p>
<p><a href="about:blank#%E4%B8%89.%E8%AE%BE%E8%AE%A1%E5%AE%9E%E8%B7%B5">三.设计实践</a></p>
<p><a href="about:blank#1.adc_stm32%C2%A0%E4%BF%A1%E5%8F%B7%E9%87%87%E9%9B%86%E6%A8%A1%E5%9D%97">1.adc_stm32<br>信号采集模块</a></p>
<p><a href="about:blank#2.proc_fpga%20FPGA%E4%B8%BB%E4%BD%93%E6%A8%A1%E5%9D%97">2.proc_fpga<br>FPGA主体模块</a></p>
<p><a href="about:blank#%3C1%3Euart%E5%8D%8F%E8%AE%AE%E6%95%B0%E6%8D%AE%E6%8E%A5%E6%94%B6%E6%A8%A1%E5%9D%97%E2%80%94%E2%80%94uart_rx">&lt;1&gt;uart协议数据接收模块——uart_rx</a></p>
<p><a href="about:blank#%3C2%3E%E4%B8%B2%E8%A1%8C%E6%95%B0%E6%8D%AE%E8%A7%A3%E7%A0%81%E6%A8%A1%E5%9D%97%E2%80%94%E2%80%94decoder">&lt;2&gt;串行数据解码模块——decoder</a></p>
<p><a href="about:blank#%3C3%3E%20%E9%A1%B6%E5%B1%82%E6%A8%A1%E5%9D%97">&lt;3&gt; 顶层模块</a></p>
<p><a href="about:blank#3.signal_proc%20%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86%E6%A8%A1%E5%9D%97">3.signal_proc<br>信号处理模块</a></p>
<p><a href="about:blank#%E5%9B%9B.%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A">四.注意事项</a></p>
<hr>
<h2 id="一-基本信息"><a href="#一-基本信息" class="headerlink" title="一.基本信息"></a>一.基本信息</h2><p>参赛厂商：AMD</p>
<p>参赛平台：基于AMD的FPGA&#x2F;Zynq&#x2F;Versal器件（无资源限制）</p>
<p>开发方向：基于AMD板卡的综合类赛道</p>
<p>开发平台：正点原子 DFZU2EG MPSoc 开发板</p>
<p>平台资源：</p>
<table>
<thead>
<tr>
<th>Application Processing Unit</th>
<th>Quad-core Arm® Cortex®-A53 MPCore™ up to 1.5GHz</th>
</tr>
</thead>
<tbody><tr>
<td>Real-Time Processing Unit</td>
<td>Dual-core Arm Cortex-R5F MPCore™ up to 600MHz</td>
</tr>
<tr>
<td>Graphics Processing Unit</td>
<td>Arm Mali™-400 MP2 up to 667MHz</td>
</tr>
<tr>
<td>Dynamic Memory Interface</td>
<td>DDR4, LPDDR4, DDR3, DDR3L, LPDDR3</td>
</tr>
<tr>
<td>High-Speed Peripherals</td>
<td>PCIe® Gen2, USB3.0, SATA 3.1, DisplayPort, Gigabit</td>
</tr>
<tr>
<td>Ethernet</td>
<td></td>
</tr>
</tbody></table>
<p>103k System Logic Cells，6.5MB Total RAM，240 DSP Slices，252 Maximum I&#x2F;O Pins</p>
<p>作品名称：基于FPGA的图神经网络传感器系统</p>
<p>作品简介：</p>
<pre><code>    对传感器系统进行建模，生成图模型并利用图神经网络对传感器系统运行状态进行评估。作品首先采集大量传感器数据，并根据事先对传感器群建模成图的模型，将传感器输出信号进行分析，主要分析图网络频域特性，进行初步判断然后用深度学习训练数据集，分析系统的状态。应用场景比如复杂环境因素影响下的农作物种植情况分析，工厂机械臂分析运行出错过热，太空站或基地的外壳完整性检测等。   
</code></pre>
<h2 id="二-设计记录"><a href="#二-设计记录" class="headerlink" title="二.设计记录"></a>二.设计记录</h2><h3 id="1-任务分解"><a href="#1-任务分解" class="headerlink" title="1.任务分解"></a>1.任务分解</h3><pre><code>    信号采集接口（多路信号采集、多种信号类型接口：通信协议接口、电压接口），数据打包模块，上层数据处理，结果显示模块。
</code></pre>
<h3 id="2-模块设计"><a href="#2-模块设计" class="headerlink" title="2.模块设计"></a>2.模块设计</h3><p>&lt;1&gt;ADC模块</p>
<p>输入：多路电压采集</p>
<p>输出：采用通信协议进行串行&#x2F;时分复用并行输出</p>
<p>实现：利用stm32的ADC通道采集多路传感器信息，利用usart发送数据。</p>
<p>&lt;2&gt;数据接收模块</p>
<p>输入：下位机（stm32）usart串行输入数据</p>
<p>输出：每字节数据及数据有效位</p>
<p>实现：Verillog编写usart解码模块</p>
<p>&lt;3&gt;数据解包模块</p>
<p>输入：数据接收模块输出的每字节数据及数据有效位</p>
<p>输出：10个传感器并行的120位数据</p>
<p>实现：解析数据流识别数据包头（“FF”）和有效数据</p>
<p>&lt;4&gt;数据处理模块</p>
<p>输入：10个传感器并行的120位数据</p>
<p>输出：10bit的10个传感器异常与否判断</p>
<p>实现：利用HLS综合C语言算法实现输入到输出的转换函数（IP 核）</p>
<h2 id="三-设计实践"><a href="#三-设计实践" class="headerlink" title="三.设计实践"></a>三.设计实践</h2><h3 id="1-adc-stm32-信号采集模块"><a href="#1-adc-stm32-信号采集模块" class="headerlink" title="1.adc_stm32 信号采集模块"></a>1.adc_stm32 信号采集模块</h3><pre><code>    利用 stm32 最小系统板上 ADC1 的 10 个通道资源，利用 DMA1 数据转运，通过1路 usart 串行发送出去。
</code></pre>
<p> stm32关键代码：</p>
<p>（1）初始化stm32的多个ADC外设并启用DMA转运</p>
<p>​<br>    void AD_Init(void)<br>    {<br>    	RCC_APB2PeriphClockCmd(RCC_APB2Periph_ADC1, ENABLE);<br>    	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA, ENABLE);<br>    	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB, ENABLE);<br>    &#x2F;&#x2F;	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOC, ENABLE);<br>    	RCC_AHBPeriphClockCmd(RCC_AHBPeriph_DMA1, ENABLE);<br>    	<br>    	RCC_ADCCLKConfig(RCC_PCLK2_Div6);				&#x2F;&#x2F;72M&#x2F;6&#x3D;12,ADC最大时间不能超过14M<br>    	<br>    	GPIO_InitTypeDef GPIO_InitStructure;<br>    	GPIO_InitStructure.GPIO_Mode &#x3D; GPIO_Mode_AIN;	&#x2F;&#x2F;设置模拟输入模式<br>    	GPIO_InitStructure.GPIO_Pin &#x3D; GPIO_Pin_0 | GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4 | GPIO_Pin_5 | GPIO_Pin_6 | GPIO_Pin_7;<br>    	GPIO_InitStructure.GPIO_Speed &#x3D; GPIO_Speed_50MHz;<br>    	GPIO_Init(GPIOA, &amp;GPIO_InitStructure);<br>    	GPIO_InitStructure.GPIO_Pin &#x3D; GPIO_Pin_0 | GPIO_Pin_1;<br>    	GPIO_Init(GPIOB, &amp;GPIO_InitStructure);<br>    &#x2F;&#x2F;	GPIO_InitStructure.GPIO_Pin &#x3D; GPIO_Pin_0 | GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4 | GPIO_Pin_5;<br>    &#x2F;&#x2F;	GPIO_Init(GPIOC, &amp;GPIO_InitStructure);<br>    	<br>    	&#x2F;&#x2F;ADC1,ADC通道x,规则采样顺序值为y,采样时间为55.5周期<br>    	ADC_RegularChannelConfig(ADC1, ADC_Channel_0, 1, ADC_SampleTime_55Cycles5);<br>    	ADC_RegularChannelConfig(ADC1, ADC_Channel_1, 2, ADC_SampleTime_55Cycles5);<br>    	ADC_RegularChannelConfig(ADC1, ADC_Channel_2, 3, ADC_SampleTime_55Cycles5);<br>    	ADC_RegularChannelConfig(ADC1, ADC_Channel_3, 4, ADC_SampleTime_55Cycles5);<br>    	ADC_RegularChannelConfig(ADC1, ADC_Channel_4, 5, ADC_SampleTime_55Cycles5);<br>    	ADC_RegularChannelConfig(ADC1, ADC_Channel_5, 6, ADC_SampleTime_55Cycles5);<br>    	ADC_RegularChannelConfig(ADC1, ADC_Channel_6, 7, ADC_SampleTime_55Cycles5);<br>    	ADC_RegularChannelConfig(ADC1, ADC_Channel_7, 8, ADC_SampleTime_55Cycles5);<br>    	ADC_RegularChannelConfig(ADC1, ADC_Channel_8, 9, ADC_SampleTime_55Cycles5);<br>    	ADC_RegularChannelConfig(ADC1, ADC_Channel_9, 10, ADC_SampleTime_55Cycles5);<br>    &#x2F;&#x2F;	ADC_RegularChannelConfig(ADC1, ADC_Channel_10, 11, ADC_SampleTime_55Cycles5);<br>    &#x2F;&#x2F;	ADC_RegularChannelConfig(ADC1, ADC_Channel_11, 12, ADC_SampleTime_55Cycles5);<br>    &#x2F;&#x2F;	ADC_RegularChannelConfig(ADC1, ADC_Channel_12, 13, ADC_SampleTime_55Cycles5);<br>    &#x2F;&#x2F;	ADC_RegularChannelConfig(ADC1, ADC_Channel_13, 14, ADC_SampleTime_55Cycles5);<br>    &#x2F;&#x2F;	ADC_RegularChannelConfig(ADC1, ADC_Channel_14, 15, ADC_SampleTime_55Cycles5);<br>    &#x2F;&#x2F;	ADC_RegularChannelConfig(ADC1, ADC_Channel_15, 16, ADC_SampleTime_55Cycles5);<br>    		<br>    	ADC_InitTypeDef ADC_InitStructure;<br>    	ADC_InitStructure.ADC_Mode &#x3D; ADC_Mode_Independent;					&#x2F;&#x2F;ADC工作在独立模式<br>    	ADC_InitStructure.ADC_DataAlign &#x3D; ADC_DataAlign_Right;				&#x2F;&#x2F;ADC数据右对齐<br>    	ADC_InitStructure.ADC_ExternalTrigConv &#x3D; ADC_ExternalTrigConv_None;	&#x2F;&#x2F;外部触发转换关闭<br>    	ADC_InitStructure.ADC_ContinuousConvMode &#x3D; ENABLE;					&#x2F;&#x2F;模数转换工作在连续转换模式<br>    	ADC_InitStructure.ADC_ScanConvMode &#x3D; ENABLE;						&#x2F;&#x2F;是否使用扫描模式<br>    	ADC_InitStructure.ADC_NbrOfChannel &#x3D; CHANNEL_NUM;					&#x2F;&#x2F;顺序进行规则转换的ADC通道的数目<br>    	ADC_Init(ADC1, &amp;ADC_InitStructure);<br>    	<br>    	&#x2F;&#x2F;DMA初始化<br>    	DMA_InitTypeDef DMA_InitStructure;<br>    	DMA_InitStructure.DMA_PeripheralBaseAddr &#x3D; (uint32_t)&amp;ADC1-&gt;DR;				&#x2F;&#x2F;DMA外设ADC基地址<br>    	DMA_InitStructure.DMA_PeripheralDataSize &#x3D; DMA_PeripheralDataSize_HalfWord;	&#x2F;&#x2F;数据宽度为16位<br>    	DMA_InitStructure.DMA_PeripheralInc &#x3D; DMA_PeripheralInc_Disable;			&#x2F;&#x2F;外设地址寄存器不变<br>    	DMA_InitStructure.DMA_MemoryBaseAddr &#x3D; (uint32_t)AD_Value;					&#x2F;&#x2F;DMA外设ADC基地址<br>    	DMA_InitStructure.DMA_MemoryDataSize &#x3D; DMA_MemoryDataSize_HalfWord;			&#x2F;&#x2F;数据宽度为16位<br>    	DMA_InitStructure.DMA_MemoryInc &#x3D; DMA_MemoryInc_Enable;						&#x2F;&#x2F;内存地址寄存器递增<br>    	DMA_InitStructure.DMA_DIR &#x3D; DMA_DIR_PeripheralSRC;							&#x2F;&#x2F;内存作为数据传输的目的地<br>    	DMA_InitStructure.DMA_BufferSize &#x3D; CHANNEL_NUM;								&#x2F;&#x2F;DMA通道的DMA缓存的大小<br>    	DMA_InitStructure.DMA_Mode &#x3D; DMA_Mode_Circular;								&#x2F;&#x2F;工作在循环缓存模式<br>    	&#x2F;&#x2F;M2M是否使用软件触发<br>    	DMA_InitStructure.DMA_M2M &#x3D; DMA_M2M_Disable;								&#x2F;&#x2F;DMA通道x没有设置为内存到内存传输<br>    	DMA_InitStructure.DMA_Priority &#x3D; DMA_Priority_Medium;						&#x2F;&#x2F;DMA通道 x拥有中优先级<br>    	DMA_Init(DMA1_Channel1, &amp;DMA_InitStructure);<br>    	<br>    	&#x2F;&#x2F;外设使能<br>    	DMA_Cmd(DMA1_Channel1, ENABLE);<br>    	ADC_DMACmd(ADC1, ENABLE);<br>    	ADC_Cmd(ADC1, ENABLE);<br>    	<br>    	&#x2F;&#x2F;复位校准寄存器<br>    	ADC_ResetCalibration(ADC1);<br>    	while (ADC_GetResetCalibrationStatus(ADC1) &#x3D;&#x3D; SET);<br>    	ADC_StartCalibration(ADC1);<br>    	while (ADC_GetCalibrationStatus(ADC1) &#x3D;&#x3D; SET);<br>    	<br>    	ADC_SoftwareStartConvCmd(ADC1, ENABLE);<br>    }</p>
<p>（2）初始化stm32的多个ADC外设并启用DMA转运</p>
<p>​<br>    void Get_Voltage()<br>    {<br>    	int i&#x3D;0;</p>
<pre><code>	//数据包起始标志
	Usart_TransmitByte(0xFF);
	Usart_TransmitByte(0xFF); 
	for(i=0;i&lt;CHANNEL_NUM;i++)
	&#123;
		Usart_TransmitByte(AD_Value[i]&gt;&gt;8);
		Usart_TransmitByte(AD_Value[i]&amp;0x00FF);
	&#125;
	
&#125;
</code></pre>
<h3 id="2-proc-fpga-FPGA主体模块"><a href="#2-proc-fpga-FPGA主体模块" class="headerlink" title="2.proc_fpga FPGA主体模块"></a>2.proc_fpga FPGA主体模块</h3><p>利用 xilinx zynq 接收 stm32 发送的数据并进行处理。</p>
<p>系统框图：</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/f595c2dc3bd9102257bbf9596af891d6.png"></p>
<p>实际本体是uart_rx——decoder——signal_proc三部分，rs232与电脑通信测试时使用。</p>
<h4 id="uart协议数据接收模块——uart-rx"><a href="#uart协议数据接收模块——uart-rx" class="headerlink" title="&lt;1&gt;uart协议数据接收模块——uart_rx"></a>&lt;1&gt;uart协议数据接收模块——uart_rx</h4><p><img src="https://i-blog.csdnimg.cn/blog_migrate/98f598971dff58761f4758e9f27128c6.png"></p>
<p> 这里uart_rx、uart_tx、rs232模块代码沿用之前学习代码。</p>
<h4 id="串行数据解码模块——decoder"><a href="#串行数据解码模块——decoder" class="headerlink" title="&lt;2&gt;串行数据解码模块——decoder"></a>&lt;2&gt;串行数据解码模块——decoder</h4><p> 代码解析：</p>
<p>​<br>    &#96;timescale 1ns &#x2F; 1ps</p>
<pre><code>module decoder
#(
    parameter   CHANNEL_NUM =   4&#39;d10    //传感器通道数
)
(
    input   wire            sys_rst_n       ,
    input   wire    [7:0]   data_serial     ,
    input   wire            in_flag         ,
    output  reg     [119:0]  data_parallel ,
    output  reg             out_flag    
);

reg [3:0]   channel_cnt ;
reg         byte_cnt    ;
reg         r_en        ;

//r_en串行数据解码标志
always@(posedge in_flag or negedge sys_rst_n)
    if(sys_rst_n == 1&#39;b0)
        r_en &lt;= 1&#39;b0;
    else if(data_serial == 8&#39;hFF &amp;&amp; byte_cnt == 1&#39;b1)
        r_en &lt;= 1&#39;b1;
    else if(channel_cnt &gt; CHANNEL_NUM)
        r_en &lt;= 1&#39;b0;
    else
        r_en &lt;= r_en;
        
//byte_cnt数据高低字节计数
always@(posedge in_flag or negedge sys_rst_n)
    if(sys_rst_n == 1&#39;b0)
        byte_cnt &lt;= 1&#39;b0;
    else if(r_en == 1&#39;b1)
        byte_cnt &lt;= ~byte_cnt;
    else if(r_en == 1&#39;b0&amp;&amp;data_serial == 8&#39;hFF)
        byte_cnt &lt;= 1&#39;b1;
    else
        byte_cnt &lt;= 1&#39;b0;

//channel_cnt处理通道数计数
always@(negedge byte_cnt or negedge sys_rst_n)
    if(sys_rst_n == 1&#39;b0)
        channel_cnt &lt;= 1&#39;b0;
    else if(channel_cnt &gt; CHANNEL_NUM)
        channel_cnt &lt;= 1&#39;b0;
    else if(r_en == 1&#39;b1&amp;&amp;channel_cnt &lt;= CHANNEL_NUM)
        channel_cnt &lt;= channel_cnt+1;
    else
        channel_cnt &lt;= 1&#39;b0;
        
//串转并输出
always@(negedge in_flag or negedge sys_rst_n)
    if(sys_rst_n == 1&#39;b0)
        data_parallel &lt;= 120&#39;b0;
    else if(r_en == 1&#39;b1)
        if(byte_cnt == 1&#39;b0)
            case(channel_cnt)
                4&#39;b0001:data_parallel[7 :0]         &lt;=  data_serial[7:0];
                4&#39;b0010:data_parallel[19:12]        &lt;=  data_serial[7:0];
                4&#39;b0011:data_parallel[31:24]        &lt;=  data_serial[7:0];
                4&#39;b0100:data_parallel[43:36]        &lt;=  data_serial[7:0];
                4&#39;b0101:data_parallel[55:48]        &lt;=  data_serial[7:0];
                4&#39;b0110:data_parallel[67:60]        &lt;=  data_serial[7:0];
                4&#39;b0111:data_parallel[79:72]        &lt;=  data_serial[7:0];
                4&#39;b1000:data_parallel[91:84]        &lt;=  data_serial[7:0];
                4&#39;b1001:data_parallel[103:96]       &lt;=  data_serial[7:0];
                4&#39;b1010:data_parallel[115:108]      &lt;=  data_serial[7:0];
                default:data_parallel &lt;= data_parallel;
            endcase
        else
            case(channel_cnt)
                4&#39;b0001:data_parallel[11:7  +1]  &lt;= data_serial[3:0];
                4&#39;b0010:data_parallel[23:19 +1]  &lt;= data_serial[3:0];
                4&#39;b0011:data_parallel[35:31 +1]  &lt;= data_serial[3:0];
                4&#39;b0100:data_parallel[47:43 +1]  &lt;= data_serial[3:0];
                4&#39;b0101:data_parallel[58:55 +1]  &lt;= data_serial[3:0];
                4&#39;b0110:data_parallel[71:67 +1]  &lt;= data_serial[3:0];
                4&#39;b0111:data_parallel[83:79 +1]  &lt;= data_serial[3:0];
                4&#39;b1000:data_parallel[95:91 +1]  &lt;= data_serial[3:0];
                4&#39;b1001:data_parallel[107:103+1]  &lt;= data_serial[3:0];
                4&#39;b1010:data_parallel[119:115+1]  &lt;= data_serial[3:0];
                default:data_parallel &lt;= data_parallel;
            endcase
    else
        data_parallel &lt;= data_parallel;

//out_flag转换成功标志位
always@(posedge channel_cnt or negedge sys_rst_n)
    if(sys_rst_n == 1&#39;b0)
        out_flag &lt;= 1&#39;b0;
    else if(channel_cnt ==  CHANNEL_NUM)
        out_flag &lt;= 1&#39;b1;
    else
        out_flag &lt;= 1&#39;b0;

endmodule
</code></pre>
<p> 波形图：</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/46d0090f8addb62c8be3ca925881e31a.png"></p>
<pre><code>     decode 模块检测到两个连续的 FF 后 r_en 使能开始记录数据，数据的高低字节用 byte_cnt 加以区分，每记录两个字节使 channel_cnt 加一，超出 CHANNEL_NUM 结束记录， data_parallel 输出120为并行数据。
</code></pre>
<p>仿真代码：</p>
<p>​<br>    &#96;timescale 1us &#x2F; 1ns<br>    module  tb_decoder();</p>
<pre><code>//********************************************************************//
//****************** Parameter and Internal Signal *******************//
//********************************************************************//
//wire  define
wire     [119:0] data_parallel  ;
wire             out_flag       ;
// wire     [3:0]   channel_cnt    ;
// wire             byte_cnt       ;
// wire             r_en           ;

reg     [7:0]   data_serial;
reg             in_flag;
reg             sys_rst_n;
            
//********************************************************************//
//***************************** Main Code ****************************//
//********************************************************************//
//初始化系统时钟、全局复位和输入信号
initial begin
    in_flag = 1&#39;b0;
    sys_rst_n = 1&#39;b0;
    #100
    sys_rst_n = 1&#39;b1;
end
 
//调用任务rx_byte
initial begin
    #200
    rx_data();
end
 
//创建任务rx_byte，本次任务调用rx_bit任务，发送8次数据，分别为0~7
task    rx_data();  //因为不需要外部传递参数，所以括号中没有输入
    integer	j;
    for(j=0; j&lt;255; j=j+1)    //调用8次rx_bit任务，每次发送的值从0变化255
        rx_serial();
endtask
 
//创建任务rx_bit，每次发送的数据有10位，data的值分别为0到7由j的值传递进来
task    rx_serial();
    integer i;
    for(i=0; i&lt;22; i=i+1)   begin
        case(i)
            0: data_serial &lt;= 8&#39;hFF ;
            1: data_serial &lt;= 8&#39;hFF ;
            2: data_serial &lt;= 8&#39;d1  ;
            3: data_serial &lt;= 8&#39;d0  ;
            4: data_serial &lt;= 8&#39;d2  ;
            5: data_serial &lt;= 8&#39;d0  ;
            6: data_serial &lt;= 8&#39;d3  ;
            7: data_serial &lt;= 8&#39;d0  ;
            8: data_serial &lt;= 8&#39;d4  ;
            9: data_serial &lt;= 8&#39;d0  ;
            10: data_serial &lt;= 8&#39;d5  ;
            11: data_serial &lt;= 8&#39;d0  ;
            12: data_serial &lt;= 8&#39;d6  ;
            13: data_serial &lt;= 8&#39;d0  ;
            14: data_serial &lt;= 8&#39;d7  ;
            15: data_serial &lt;= 8&#39;d0  ;
            16: data_serial &lt;= 8&#39;d8  ;
            17: data_serial &lt;= 8&#39;b0  ;
            18: data_serial &lt;= 8&#39;d9  ;
            19: data_serial &lt;= 8&#39;d0  ;
            20: data_serial &lt;= 8&#39;d10 ;
            21: data_serial &lt;= 8&#39;d0  ;
        endcase
        in_flag &lt;= 1&#39;b1;
        #0.001;
        in_flag &lt;= 1&#39;b0;
        #10;
    end
endtask
 
//********************************************************************//
//*************************** Instantiation **************************//
//********************************************************************//
//------------------------ rs232_inst ------------------------
decoder 
#(
    .CHANNEL_NUM    (4&#39;d10)    //传感器通道数
)
decoder_inst
(
    .sys_rst_n      (sys_rst_n    ),
    .data_serial    (data_serial  ),
    .in_flag        (in_flag      ),
    .data_parallel  (data_parallel),
    .out_flag       (out_flag     )
    
    // .channel_cnt    (channel_cnt  ),
    // .byte_cnt       (byte_cnt     ),
    // .r_en           (r_en         )
);
 
endmodule
</code></pre>
<p>​     </p>
<h4 id="顶层模块"><a href="#顶层模块" class="headerlink" title="&lt;3&gt; 顶层模块"></a>&lt;3&gt; 顶层模块</h4><p>代码解析：</p>
<p>​<br>    &#96;timescale 1ns &#x2F; 1ps</p>
<pre><code>module proc_fpga
(
    input   wire      clk_in1_p     ,
    input   wire      clk_in1_n     ,
    input   wire      sys_rst_n     ,
    
    //发送数据线
    output  wire     pc_tx           ,      //数据发送线
    // input   wire     [7:0]   tx_data ,      //发送的一字节数据
    // input   wire             tx_flag ,      //发送数据就位标志
    
    //接收数据线
    input   wire     pc_rx           ,     //数据接收线
    // output  wire     [7:0]   rx_data ,      //接受的一字节数据
    // output  wire             rx_flag ,      //一字节数据接收完成标志

    input   wire     s1_rx           ,      
    input   wire     s2_rx           ,  
    
    output  wire    [15:0]      result             
    
);

wire clk_100M;
wire locked;
      
wire     [7:0]   sensor1_data ;
wire             sensor1_flag ;
wire     s2_rx                ;    
wire     [7:0]   sensor2_data ;
wire             sensor2_flag ;
//wire     s3_rx                ,    
//wire     [7:0]   sensor3_data ,
//wire             sensor3_flag 

wire    [119:0] data1_parallel   ;
wire    out1_flag        ;
wire    [119:0] data2_parallel   ;
wire    out2_flag        ;

//回环测试线
wire     [7:0]   pc_data ;
wire             pc_flag ;
wire     [7:0]   result_low;

wire [11:0]  b1  ;   
wire [11:0]  b2  ;
wire [11:0]  b3  ;
wire [11:0]  b4  ;
wire [11:0]  b5  ;
wire [11:0]  b6  ;
wire [11:0]  b7  ;
wire [11:0]  b8  ;
wire [11:0]  b9  ;
wire [11:0]  b10 ;
wire [11:0]  b11 ;
wire [11:0]  b12 ;
wire [11:0]  b13 ;
wire [11:0]  b14 ;
wire [11:0]  b15 ;
wire [11:0]  b16 ;

assign data1_parallel[11:0]     = b1       ;
assign data1_parallel[23:12]    = b2       ;
assign data1_parallel[35:24]    = b3       ;
assign data1_parallel[47:36]    = b4       ;
assign data1_parallel[59:48]    = b5       ;
assign data1_parallel[71:60]    = b6       ;
assign data1_parallel[83:72]    = b7       ;
assign data1_parallel[95:84]    = b8       ;
assign data1_parallel[107:96]   = b9       ;
assign data1_parallel[119:108]  = b10      ;
assign data2_parallel[11:0]     = b11      ;
assign data2_parallel[23:12]    = b12      ;
assign data2_parallel[35:24]    = b13      ;
assign data2_parallel[47:36]    = b14      ;
assign data2_parallel[59:48]    = b15      ;
assign data2_parallel[71:60]    = b16      ;

//pll时钟产生模块
clk_pll clk_pll_inst
   (
    // Clock out ports
    .clk_100M(clk_100M),     // output clk_100M
    // Status and control signals
    .reset(~sys_rst_n), // input reset
    .locked(locked),       // output locked
   // Clock in ports
    .clk_in1_p(clk_in1_p),    // input clk_in1_p
    .clk_in1_n(clk_in1_n)    // input clk_in1_n
);

//usart通信模块
rs232 rs232_pc_inst
(
    .sys_clk(clk_100M),
    .sys_rst_n(sys_rst_n),
    .rx_data    (pc_data    ),  //output    [7:0]   rx_data
    .rx_flag    (pc_flag    ),  //output            rx_flag
    .tx_data    (pc_data    ),
    .tx_flag    (pc_flag    ),
    .rx(pc_rx),
    .tx(pc_tx)
);

//传感器数据接收
uart_rx uart_rx_sensor1_inst
(
    .sys_clk(clk_100M),
    .sys_rst_n(sys_rst_n),
   .po_data    (sensor1_data    ),  //output    [7:0]   rx_data
   .po_flag    (sensor1_flag    ),  //output            rx_flag
    // .po_data    (pc_data    ),  //回环测试
    // .po_flag    (pc_flag    ),  //回环测试    
    .rx(s1_rx)
);

uart_rx uart_rx_sensor2_inst
(
    .sys_clk(clk_100M),
    .sys_rst_n(sys_rst_n),
    .po_data    (sensor2_data    ),  //output    [7:0]   rx_data
    .po_flag    (sensor2_flag    ),  //output            rx_flag`
    .rx(s2_rx)
);

// uart_rx uart_rx_sensor3_inst
// (
    // .sys_clk(clk_100M),
    // .sys_rst_n(sys_rst_n),
    // .po_data    (sensor3_data    ),  //output    [7:0]   rx_data
    // .po_flag    (sensor3_flag    ),  //output            rx_flag
    // .rx(s3_rx)
// );

decoder decoder1_inst
(
    .sys_rst_n     (sys_rst_n)      ,
    .data_serial   (sensor1_data)   ,
    .in_flag       (sensor1_flag)   ,
    .data_parallel (data1_parallel) ,
    .out_flag      (out1_flag)
);

decoder decoder2_inst
(
    .sys_rst_n     (sys_rst_n)      ,
    .data_serial   (sensor2_data)   ,
    .in_flag       (sensor2_flag)   ,
    .data_parallel (data2_parallel) ,
    .out_flag      (out2_flag)
);

signal_proc_inst signal_proc_inst_inst
(
    .ap_clk     (clk_100M)                  ,
    .ap_rst     (sys_rst_n)                 ,
    .a1         (b1 )    ,
    .a2         (b2 )    ,
    .a3         (b3 )    ,
    .a4         (b4 )    ,
    .a5         (b5 )    ,
    .a6         (b6 )    ,
    .a7         (b7 )    ,
    .a8         (b8 )    ,
    .a9         (b9 )    ,
    .a10        (b10)    ,
    .a11        (b11)    ,
    .a12        (b12)    ,
    .a13        (b13)    ,
    .a14        (b14)    ,
    .a15        (b15)    ,
    .a16        (b16)    ,
    .c1         (result[0])                 ,
    .c2         (result[1])                 ,
    .c3         (result[2])                 ,
    .c4         (result[3])                 ,
    .c5         (result[4])                 ,
    .c6         (result[5])                 ,
    .c7         (result[6])                 ,
    .c8         (result[7])                 ,
    .c9         (result[8])                 ,
    .c10        (result[9])                 ,
    .c11        (result[10])                ,
    .c12        (result[11])                ,
    .c13        (result[12])                ,
    .c14        (result[13])                ,
    .c15        (result[14])                ,
    .c16        (result[15])    
);

endmodule
</code></pre>
<p>仿真代码：</p>
<p>​<br>    &#96;timescale 1ns &#x2F; 1ps<br>    module  tb_proc_fpga();</p>
<pre><code>//********************************************************************//
//****************** Parameter and Internal Signal *******************//
//********************************************************************//
//wire  define
wire    tx          ;
reg     rx          ;
wire     [7:0]   rx_data;
wire             rx_flag;//reg   define
wire     [7:0]   tx_data;
wire             tx_flag;

reg     clk_in1_p;
reg     clk_in1_n;
reg     sys_rst_n;

always #5 clk_in1_p = ~clk_in1_p;
always #5 clk_in1_n = ~clk_in1_n;

assign tx_data=rx_data;
assign tx_flag=rx_flag;
</code></pre>
<p>​<br>​<br>    parameter   UART_BPS    &#x3D;   20’d115200        ,   &#x2F;&#x2F;比特率<br>                CLK_FREQ    &#x3D;   28’d100_000_000  ;   &#x2F;&#x2F;时钟频率</p>
<pre><code>//********************************************************************//
//***************************** Main Code ****************************//
//********************************************************************//
//初始化系统时钟、全局复位和输入信号
initial begin
    clk_in1_p = 1&#39;b0;
    clk_in1_n = 1&#39;b1;
    rx        &lt;= 1&#39;b1;
    sys_rst_n = 1&#39;b0;
    #100
    sys_rst_n = 1&#39;b1;
end
 
//调用任务rx_byte
initial begin
    #200
    rx_byte();
end
 
//创建任务rx_byte，本次任务调用rx_bit任务，发送8次数据，分别为0~7
task    rx_byte();  //因为不需要外部传递参数，所以括号中没有输入
    integer	j;
    for(j=0; j&lt;255; j=j+1)    //调用8次rx_bit任务，每次发送的值从0变化255
        rx_bit(j);
endtask
 
//创建任务rx_bit，每次发送的数据有10位，data的值分别为0到7由j的值传递进来
task    rx_bit(
    input   [7:0]   data
);
    integer i;
    for(i=0; i&lt;10; i=i+1)   begin
        case(i)
            0: rx &lt;= 1&#39;b0;
            1: rx &lt;= data[0];
            2: rx &lt;= data[1];
            3: rx &lt;= data[2];
            4: rx &lt;= data[3];
            5: rx &lt;= data[4];
            6: rx &lt;= data[5];
            7: rx &lt;= data[6];
            8: rx &lt;= data[7];
            9: rx &lt;= 1&#39;b1;
        endcase
        #(1000000000/UART_BPS); //每发送1位数据延时
    end
endtask
 
//********************************************************************//
//*************************** Instantiation **************************//
//********************************************************************//
//------------------------ rs232_inst ------------------------
proc_fpga   proc_fpga_inst
(
    .clk_in1_p        (clk_in1_p        ),
    .clk_in1_n        (clk_in1_n        ),
    .sys_rst_n        (sys_rst_n        ),
    // .rx_data          (rx_data),  //output    [7:0]   rx_data
    // .rx_flag          (rx_flag),  //output            rx_flag
    // .tx_data          (tx_data),
    // .tx_flag          (tx_flag),
    .s1_rx               (rx               ),
    .pc_tx               (tx               )
);
 
endmodule
</code></pre>
<p>​     </p>
<h3 id="3-signal-proc-信号处理模块"><a href="#3-signal-proc-信号处理模块" class="headerlink" title="3.signal_proc 信号处理模块"></a>3.signal_proc 信号处理模块</h3><p>HLS工程代码解析：</p>
<p>​<br>    #include &lt;ap_cint.h&gt;<br>    #include &lt;math.h&gt;<br>    void signal_proc(uint12 a1,uint12 a2,uint12 a3,uint12 a4,uint12 a5,uint12 a6,uint12 a7,uint12 a8,uint12 a9,uint12 a10,uint12 a11,uint12 a12,uint12 a13,uint12 a14,uint12 a15,uint12 a16,uint1 *c1,uint1 *c2,uint1 *c3,uint1 *c4,uint1 *c5,uint1 *c6,uint1 *c7,uint1 *c8,uint1 *c9,uint1 *c10,uint1 <em>c11,uint1 <em>c12,uint1 <em>c13,uint1 <em>c14,uint1 <em>c15,uint1 <em>c16)<br>    {<br>    #pragma HLS INTERFACE ap_none port&#x3D;a1<br>    #pragma HLS INTERFACE ap_none port&#x3D;a2<br>    #pragma HLS INTERFACE ap_none port&#x3D;a3<br>    #pragma HLS INTERFACE ap_none port&#x3D;a4<br>    #pragma HLS INTERFACE ap_none port&#x3D;a5<br>    #pragma HLS INTERFACE ap_none port&#x3D;a6<br>    #pragma HLS INTERFACE ap_none port&#x3D;a7<br>    #pragma HLS INTERFACE ap_none port&#x3D;a8<br>    #pragma HLS INTERFACE ap_none port&#x3D;a9<br>    #pragma HLS INTERFACE ap_none port&#x3D;a10<br>    #pragma HLS INTERFACE ap_none port&#x3D;a11<br>    #pragma HLS INTERFACE ap_none port&#x3D;a12<br>    #pragma HLS INTERFACE ap_none port&#x3D;a13<br>    #pragma HLS INTERFACE ap_none port&#x3D;a14<br>    #pragma HLS INTERFACE ap_none port&#x3D;a15<br>    #pragma HLS INTERFACE ap_none port&#x3D;a16<br>    #pragma HLS INTERFACE ap_none port&#x3D;c1<br>    #pragma HLS INTERFACE ap_none port&#x3D;c2<br>    #pragma HLS INTERFACE ap_none port&#x3D;c3<br>    #pragma HLS INTERFACE ap_none port&#x3D;c4<br>    #pragma HLS INTERFACE ap_none port&#x3D;c5<br>    #pragma HLS INTERFACE ap_none port&#x3D;c6<br>    #pragma HLS INTERFACE ap_none port&#x3D;c7<br>    #pragma HLS INTERFACE ap_none port&#x3D;c8<br>    #pragma HLS INTERFACE ap_none port&#x3D;c9<br>    #pragma HLS INTERFACE ap_none port&#x3D;c10<br>    #pragma HLS INTERFACE ap_none port&#x3D;c11<br>    #pragma HLS INTERFACE ap_none port&#x3D;c12<br>    #pragma HLS INTERFACE ap_none port&#x3D;c13<br>    #pragma HLS INTERFACE ap_none port&#x3D;c14<br>    #pragma HLS INTERFACE ap_none port&#x3D;c15<br>    #pragma HLS INTERFACE ap_none port&#x3D;c16<br>    #pragma HLS INTERFACE ap_ctrl_none port&#x3D;return<br>    	uint5 i;<br>    	uint12 b1,b2,b3,b4,b5,b6,b7,b8,b9,b10,b11,b12,b13,b14,b15,b16;<br>    	uint2 time&#x3D;0;<br>    	uint16 xzuo[16]&#x3D;{1,2,3,4,1,2,3,4,1,2,3,4,1,2,3,4};<br>    	uint16 yzuo[16]&#x3D;{1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4};<br>    	double A[256];<br>    	for(i&#x3D;0;i&lt;&#x3D;15;i++)<br>    	    for(int j&#x3D;0;j&lt;&#x3D;15;j++)<br>    	    {<br>    	    	A[i</em>16+j]&#x3D;sqrt((xzuo[i]-xzuo[j])</em>(xzuo[i]-xzuo[j])+(yzuo[i]-yzuo[j])</em>(yzuo[i]-yzuo[j]));<br>    	    	A[i</em>16+j]&#x3D;(1.0)&#x2F;(A[i</em>16+j]<em>A[i</em>16+j]<em>A[i</em>16+j]);<br>    		}<br>        for(i&#x3D;0;i&lt;&#x3D;15;i++)<br>        {<br>        	A[17</em>i]&#x3D;0;<br>    	}</p>
<pre><code>	while(1)
	&#123;
		if(time==0)
		&#123;
			b1=a1;
			b2=a2;
			b3=a3;
			b4=a4;
			b5=a5;
			b6=a6;
			b7=a7;
			b8=a8;
			b9=a9;
			b10=a10;
			b11=a11;
			b12=a12;
			b13=a13;
			b14=a14;
			b15=a15;
			b16=a16;
			time++;
		&#125;
		else
		&#123;
			uint5 i,j;
			double yuzhi=0.01;
			uint12 graphsig[16];
			uint12 graphsigq[16];
			double Bian,jiubian,xinbian;
			/* 此处假设该图信号的邻接矩阵不变，所以前面的只算一次 */
			graphsig[0] = a1;
			graphsig[1] = a2;
			graphsig[2] = a3;
			graphsig[3] = a4;
			graphsig[4] = a5;
			graphsig[5] = a6;
			graphsig[6] = a7;
			graphsig[7] = a8;
			graphsig[8] = a9;
			graphsig[9] = a10;
			graphsig[10] = a11;
			graphsig[11] = a12;
			graphsig[12] = a13;
			graphsig[13] = a14;
			graphsig[14] = a15;
			graphsig[15] = a16;
			/* 现在时刻图信号 */
			graphsigq[0] = b1;
			graphsigq[1] = b2;
			graphsigq[2] = b3;
			graphsigq[3] = b4;
			graphsigq[4] = b5;
			graphsigq[5] = b6;
			graphsigq[6] = b7;
			graphsigq[7] = b8;
			graphsigq[8] = b9;
			graphsigq[9] = b10;
			graphsigq[10] = b11;
			graphsigq[11] = b12;
			graphsigq[12] = b13;
			graphsigq[13] = b14;
			graphsigq[14] = b15;
			graphsigq[15] = b16;

			double dianbianhe[16];
			for(i=0;i&lt;=15;i++)
			&#123;
				Bian=0;
				for(j=0;j&lt;=15;j++)
				&#123;
					jiubian=((graphsigq[i]-graphsigq[j])*(graphsigq[i]-graphsigq[j]));
					xinbian=((graphsig[i]-graphsig[j])*(graphsig[i]-graphsig[j]));
					Bian=Bian+(xinbian-jiubian)*(xinbian-jiubian)*A[i*16+j];
				&#125;
				dianbianhe[i]=Bian;
			&#125;
			for(i=0;i&lt;=15;i++)
			&#123;
				if(dianbianhe[i]&gt;=yuzhi)
				&#123;
					if(i==0) *c1=1;
					else if(i==1) *c2=1;
					else if(i==2) *c3=1;
					else if(i==3) *c4=1;
					else if(i==4) *c5=1;
					else if(i==5) *c6=1;
					else if(i==6) *c7=1;
					else if(i==7) *c8=1;
					else if(i==8) *c9=1;
					else if(i==9) *c10=1;
					else if(i==10) *c11=1;
					else if(i==11) *c12=1;
					else if(i==12) *c13=1;
					else if(i==13) *c14=1;
					else if(i==14) *c15=1;
					else if(i==15) *c16=1;
				&#125;
			&#125;
			b1=a1;
			b2=a2;
			b3=a3;
			b4=a4;
			b5=a5;
			b6=a6;
			b7=a7;
			b8=a8;
			b9=a9;
			b10=a10;
			b11=a11;
			b12=a12;
			b13=a13;
			b14=a14;
			b15=a15;
			b16=a16;
		&#125;
	&#125;
&#125;
</code></pre>
<p>综合后 IP 核 ：</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/dc63d71546b24ba8b8aafcf1a9c565ee.png"></p>
<h2 id="四-注意事项"><a href="#四-注意事项" class="headerlink" title="四.注意事项"></a>四.注意事项</h2><p>&lt;1&gt;实例化时注意各个模块的时序，检查代码使用的时钟频率及各参数是否正确；实例化时连接线的运用，不能重复对一变量赋值！；注意实例调用时名称统一。</p>
<p>&lt;2&gt;编写好仿真文件进行仿真后再下载。</p>
<p>&lt;3&gt;报错：[DRC MDRV-1] Multiple Driver Nets</p>
<p>[Vivado综合报multi-driven<br>nets的错误的解决方法](<a target="_blank" rel="noopener" href="https://blog.csdn.net/wordwarwordwar/article/details/80428358?ops_request_misc=&request_id=&biz_id=102&utm_term=multiple%20driver%20nets&utm_medium=distribute.pc_search_result.none-">https://blog.csdn.net/wordwarwordwar/article/details/80428358?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=multiple%20driver%20nets&amp;utm_medium=distribute.pc_search_result.none-</a><br>task-blog-2<del>all</del>sobaiduweb~default-0-80428358.nonecase&amp;spm&#x3D;1018.2226.3001.4187<br>“Vivado综合报multi-driven nets的错误的解决方法”)</p>
<p>[Vivado编译过程中出现[DRC MDRV-1] Multiple Driver<br>Nets](<a target="_blank" rel="noopener" href="https://blog.csdn.net/jk_101/article/details/131824877?ops_request_misc=&request_id=&biz_id=102&utm_term=multiple%20driver%20nets&utm_medium=distribute.pc_search_result.none-">https://blog.csdn.net/jk_101/article/details/131824877?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=multiple%20driver%20nets&amp;utm_medium=distribute.pc_search_result.none-</a><br>task-<br>blog-2<del>all</del>sobaiduweb~default-1-131824877.nonecase&amp;spm&#x3D;1018.2226.3001.4187<br>“Vivado编译过程中出现[DRC MDRV-1] Multiple Driver Nets”)</p>
<p>&lt;4&gt;未使用的输入输出不要定义，定义后生成比特流前必须绑定引脚</p>
<p>&lt;5&gt;按照官方推荐的配套工具软件，比如Vivado 2023.1对应Vitis HLS<br>2023.1，如果使用不配套版本，HLS导出的IP核Vivado可能无法完全识别，报错“missing<br>Source”（全部展开IP核显示有缺少模块说明，如下图：）</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/50188b6c5223368c01c9481331d5b841.png"></p>
<p>本文转自 <a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_32971095/article/details/133853116">https://blog.csdn.net/qq_32971095/article/details/133853116</a>，如有侵权，请联系删除。</p>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/11/06/%E9%9A%8F%E7%AC%94/%E6%80%9D%E8%80%83/%E6%B5%99%E6%B1%9F%E7%BB%8D%E5%85%B4%E6%9F%AF%E6%A1%A5%E8%B5%9B%E8%89%87%E6%8C%91%E6%88%98%E8%B5%9B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="SWQ">
      <meta itemprop="description" content="舟遥遥以轻飏，风飘飘而吹衣">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Switch">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/11/06/%E9%9A%8F%E7%AC%94/%E6%80%9D%E8%80%83/%E6%B5%99%E6%B1%9F%E7%BB%8D%E5%85%B4%E6%9F%AF%E6%A1%A5%E8%B5%9B%E8%89%87%E6%8C%91%E6%88%98%E8%B5%9B/" class="post-title-link" itemprop="url">浙江绍兴柯桥赛艇挑战赛</a>
        </h2>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-11-06 00:00:00" itemprop="dateCreated datePublished" datetime="2023-11-06T00:00:00+08:00">2023-11-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-02-09 20:33:21" itemprop="dateModified" datetime="2025-02-09T20:33:21+08:00">2025-02-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%80%9D%E8%80%83/" itemprop="url" rel="index"><span itemprop="name">思考</span></a>
                </span>
            </span>

          
            <span id="/2023/11/06/%E9%9A%8F%E7%AC%94/%E6%80%9D%E8%80%83/%E6%B5%99%E6%B1%9F%E7%BB%8D%E5%85%B4%E6%9F%AF%E6%A1%A5%E8%B5%9B%E8%89%87%E6%8C%91%E6%88%98%E8%B5%9B/" class="post-meta-item leancloud_visitors" data-flag-title="浙江绍兴柯桥赛艇挑战赛" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2023/11/06/%E9%9A%8F%E7%AC%94/%E6%80%9D%E8%80%83/%E6%B5%99%E6%B1%9F%E7%BB%8D%E5%85%B4%E6%9F%AF%E6%A1%A5%E8%B5%9B%E8%89%87%E6%8C%91%E6%88%98%E8%B5%9B/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2023/11/06/%E9%9A%8F%E7%AC%94/%E6%80%9D%E8%80%83/%E6%B5%99%E6%B1%9F%E7%BB%8D%E5%85%B4%E6%9F%AF%E6%A1%A5%E8%B5%9B%E8%89%87%E6%8C%91%E6%88%98%E8%B5%9B/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>241</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​       绍兴行重新拓宽我的视野，从前拘泥的琐碎全都烟消云散。只觉要“厚积而薄发，博观而约取”。之前总是想不通所谓意义，患得患失。</p>
<p>​       还是“海阔凭鱼跃，天高任鸟飞”。视野太窄，不知更大的作为，更大的收获在更广阔的天地。</p>
<p>​       谁人不在逐梦路上自律拼搏？近朱者赤，近墨</p>
<p>者黑，放眼望去，矫健热血皆静，吾辈为何踌躇不前？</p>
<p>​       精神疲惫了？为何如此怯懦？</p>
<p>​       只需把每一桨，每一拉，都当作决赛上的较量，有何理由退缩疲软？我只想象这路上的测功仪也如湖心一舟竞争，是享受！是拼搏！</p>
<p>​       拓视野，莫犹豫；勿问得失，提升自己!</p>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/11/02/%E9%9A%8F%E7%AC%94/%E6%80%9D%E8%80%83/%E4%BF%A1%E5%BF%B5%E6%98%AF%E4%B8%80%E7%A7%8D%E7%A8%B3%E5%AE%9A%E7%9A%84%E4%BB%B7%E5%80%BC%E8%BF%BD%E6%B1%82.../">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="SWQ">
      <meta itemprop="description" content="舟遥遥以轻飏，风飘飘而吹衣">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Switch">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/11/02/%E9%9A%8F%E7%AC%94/%E6%80%9D%E8%80%83/%E4%BF%A1%E5%BF%B5%E6%98%AF%E4%B8%80%E7%A7%8D%E7%A8%B3%E5%AE%9A%E7%9A%84%E4%BB%B7%E5%80%BC%E8%BF%BD%E6%B1%82.../" class="post-title-link" itemprop="url">信念是一种稳定的价值追求...</a>
        </h2>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-11-02 11:33:00" itemprop="dateCreated datePublished" datetime="2023-11-02T11:33:00+08:00">2023-11-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-02-09 22:08:28" itemprop="dateModified" datetime="2025-02-09T22:08:28+08:00">2025-02-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%80%9D%E8%80%83/" itemprop="url" rel="index"><span itemprop="name">思考</span></a>
                </span>
            </span>

          
            <span id="/2023/11/02/%E9%9A%8F%E7%AC%94/%E6%80%9D%E8%80%83/%E4%BF%A1%E5%BF%B5%E6%98%AF%E4%B8%80%E7%A7%8D%E7%A8%B3%E5%AE%9A%E7%9A%84%E4%BB%B7%E5%80%BC%E8%BF%BD%E6%B1%82.../" class="post-meta-item leancloud_visitors" data-flag-title="信念是一种稳定的价值追求..." title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2023/11/02/%E9%9A%8F%E7%AC%94/%E6%80%9D%E8%80%83/%E4%BF%A1%E5%BF%B5%E6%98%AF%E4%B8%80%E7%A7%8D%E7%A8%B3%E5%AE%9A%E7%9A%84%E4%BB%B7%E5%80%BC%E8%BF%BD%E6%B1%82.../#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2023/11/02/%E9%9A%8F%E7%AC%94/%E6%80%9D%E8%80%83/%E4%BF%A1%E5%BF%B5%E6%98%AF%E4%B8%80%E7%A7%8D%E7%A8%B3%E5%AE%9A%E7%9A%84%E4%BB%B7%E5%80%BC%E8%BF%BD%E6%B1%82.../" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>71</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​       信念是一种稳定的价值追求，坚定地相信真善的。且不论信念崩塌的隐患与后果，它能提供的就是一种稳定，减少不必要的动摇人心的思考。</p>
<p>​       总结制定信念!</p>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/29/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/FPGA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(8)%E2%80%94%E2%80%94%E8%BF%9B%E9%98%B6%E8%AE%BE%E8%AE%A1%E4%B8%80%EF%BC%88DDR3%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="SWQ">
      <meta itemprop="description" content="舟遥遥以轻飏，风飘飘而吹衣">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Switch">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/29/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/FPGA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(8)%E2%80%94%E2%80%94%E8%BF%9B%E9%98%B6%E8%AE%BE%E8%AE%A1%E4%B8%80%EF%BC%88DDR3%EF%BC%89/" class="post-title-link" itemprop="url">进阶设计一（DDR3）——FPGA学习笔记＜？＞</a>
        </h2>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-29 21:15:35" itemprop="dateCreated datePublished" datetime="2023-10-29T21:15:35+08:00">2023-10-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-02-09 14:25:46" itemprop="dateModified" datetime="2025-02-09T14:25:46+08:00">2025-02-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a>
                </span>
            </span>

          
            <span id="/2023/10/29/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/FPGA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(8)%E2%80%94%E2%80%94%E8%BF%9B%E9%98%B6%E8%AE%BE%E8%AE%A1%E4%B8%80%EF%BC%88DDR3%EF%BC%89/" class="post-meta-item leancloud_visitors" data-flag-title="进阶设计一（DDR3）——FPGA学习笔记＜？＞" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2023/10/29/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/FPGA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(8)%E2%80%94%E2%80%94%E8%BF%9B%E9%98%B6%E8%AE%BE%E8%AE%A1%E4%B8%80%EF%BC%88DDR3%EF%BC%89/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2023/10/29/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/FPGA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(8)%E2%80%94%E2%80%94%E8%BF%9B%E9%98%B6%E8%AE%BE%E8%AE%A1%E4%B8%80%EF%BC%88DDR3%EF%BC%89/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="一-简介"><a href="#一-简介" class="headerlink" title="一.简介"></a>一.简介</h2><pre><code>    DDR3 SDRAM，以其单位存储量大、高数据带宽、读写速度快、价格相对便宜等优点 吸引了大批客户，占领市场较大份额。同时，作为内存条中不可缺少的一部分，DDR3 SDRAM 在计算机领域也占有一席之地。

    要掌握 DDR3 SDRAM 的基本概念、数据存取原理、操作命令以及操作时序等相关知识。在掌 握 DDR3 SDRAM 的相关理论知识后，讲解 AXI4 接口，并且使用该接口配置 Xilinx 的 MIG IP 核，设计一个可进行读写操作的 DDR3 SDRAM 控制器，并上板验证。
</code></pre>
<h3 id="1-DDR3-SDRAM基础概念"><a href="#1-DDR3-SDRAM基础概念" class="headerlink" title="1.DDR3 SDRAM基础概念"></a>1.DDR3 SDRAM基础概念</h3><pre><code>    DDR3 SDRAM 英 文 全 称 “ **Double-Data-Rate Three Synchronous Dynamic Random Access Memory** ”，译为“第三代**双倍速率同步动态随机存取** 内存”或“同步动态随机存储 器”，是动态随机存储器(Dynamic Random Access Memory，简称 DRAM)的一类。 同步、动态、随机是其性能特点的外在说明。

    **双倍速率(Double-Data-Rate)** ：DDR3 SDRAM 存储器与 SDRAM 有一个很大的不同， DDR3 SDRAM 或者说带 DDR 开头的。包括 DDR1、DDR2、DDR3、DDR4、DDR4，他们都有一个很大的相似点，就是**双边沿输出输入数据** ，通俗来讲就是在一个周期内输出 2 次 数据，上升沿输出一次数据，下降沿输出一次数据。而 SDRAM 则是在一个周期内的上升 沿输出一次数据，下降沿不输出，所以同频率的 DDR3 SDRAM 与 SDRAM 相比速度快一 倍。

    **同步(Synchronous)** ：与通常的异步 DRAM 不同，DDR3 SDRAM 存在一个同步接口， 其工作时钟的时钟频率与对应控制器(CPU/FPGA)的时钟频率相同，并且 SDRAM 内部的命 令发送与数据传输均以此时钟为基准，实现指令或数据的同步操作；

    **动态(Dynamic)** ：DDR3 SDRAM 需要不断的刷新来保证存储阵列内数据不丢失；

   **  随机(Random)**：数据在 DDR3 SDRAM 中并不是按照线性依次存储，而是可以自由指定地址进行数据的读写。

    第一代 SDR SDRAM 采用单端时钟信号，SDRAM 只在时钟的上升沿进行数据采样； 而后面的四代 SDRAM 由于工作频率比较快，所以采用可降低干扰的**差分时钟信号** 作为同步时钟，双沿采样，速度更快，且功耗更低。同时技术的不断发展、制造工艺的不断提 高，使得五代 SDRAM 的更新过程中，集成度越来越高、内核电压越来越低(SDR:3.3V、 DDR:2.5V、DDR2:1.8V、DDR3:1.5V、DDR4:1.2V)，这也是 SDRAM 速度提高、功耗降低的重要原因。

    由于 DDR3 SDRAM 需要不断刷新来保证数据的可靠性，**以及行列地址线分时复用等原因，使其对操作时序的 要求较为严格，进而导致控制逻辑较为复杂。**
</code></pre>
<h3 id="2-DDR3-SDRAM存取原理"><a href="#2-DDR3-SDRAM存取原理" class="headerlink" title="2.DDR3 SDRAM存取原理"></a>2.DDR3 SDRAM存取原理</h3><p><img src="https://i-blog.csdnimg.cn/blog_migrate/b1f3e93d3d6e3e3edeb231ab5b8c0ae5.png"></p>
<pre><code>    对于 DDR3 SDRAM，我们将类比于单元格的存储空间称之为存储单元，N(行列个数乘积)个存储单元构成一个存储阵列，这个存储阵列我们称之为一个逻辑Bank(LogicalBank）简称 L-Bank、Bank)。DDR3 SDRAM 内部并不是一个全容量的 L-Bank，而是**分割为若干个 L-Bank** ，目前大多为 4 个。若干 L-Bank 的分割，原因有二，一是技术、成本等诸多因素；二是由于 DDR3 SDRAM 的工作原理限制，单一 L-Bank 可能会造成非常严重的寻址冲突，大幅度降低内存效率。

    这样一来，在对 DDR3 SDRAM 进行数据存取时，要**先确定 L-Bank 地址** ，定位到指定 逻辑 Bank，**再依次确定行地址和列地址** ，选中存储单元，进而进行数据的存取操作，而且 一次只能对一个 L-Bank 的一个存储单元进行操作。

    DDR3 SDRAM 的基本存储单位是存储单元，而一个存储单元的容量为若干个 Bit，对 于 DDR3 SDRAM 而言就是芯片的位宽，每个 Bit 存放于一个单独的**存储体** 中，存储体是利 用电容能够保持电荷以及可充放电的特性制成，主要由行选通三极管、列选通三极管、存 储电容以及刷新放大器构成。电容所存储的电荷会随时间慢慢释放，这就需要不断刷新为 电容充电，以保证存储数据可靠性。
</code></pre>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/866e1ed63d8f65a8cdcd7109c64133cc.png"></p>
<pre><code>    将每个存储单元简化为单 Bit 的存储体，再将若干存储体排列为矩阵，同一行将行地 址线相连，同一列将列地址线相连，就构成了一个存储阵列的简化模型。
</code></pre>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/8f9736f70fea11026c66c77c690af13c.png"></p>
<h3 id="3-DDR3-SDRAM器件引脚"><a href="#3-DDR3-SDRAM器件引脚" class="headerlink" title="3.DDR3 SDRAM器件引脚"></a>3.DDR3 SDRAM器件引脚</h3><p><img src="https://i-blog.csdnimg.cn/blog_migrate/8f27df221f173245d0ec20805d218f20.png"></p>
<p>注：x4、x8、x16 分别表示位宽 4bit、8bit、16bit；<strong>＃符号表示信号为低电平有效</strong> ；短 划线-表示 x8 和 x4<br>引脚功能相同，x16 引脚功能相同与前者不同，我们的是 x16。</p>
<pre><code>    我们以镁光公司生产的、容量为 4Megx16x4Banks 的 DDR3 SDRAM 芯片为例，对其做一下功能介绍。
</code></pre>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/c4e2e22141c5a36927e70daaaf76459e.png"></p>
<pre><code>    注：表格中某些信号只介绍了后文设计实验中所涉及到的功能，更多功能介绍请查阅 芯片对应数据手册。
</code></pre>
<p>SDRAM 内部功能框图：</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/e728de47fc70dff996003930f8c53c2f.png"></p>
<pre><code>    DDR3 SDRAM 内部包含一个逻辑控制单元，内部包含模式寄存器和 命令解码器。外部通过 CS_N、RAC_N、CAS_N、WE_N 以及地址总线向逻辑控制单元输 入命令，命令经过命令解码器进行译码后，将控制参数保存到模式寄存器中，逻辑控制单 元进而控制逻辑运行。

    外部通过地址总线输入地址信息，地址信息在逻辑控制单元进行逻辑控制时起到辅助 作用，除此之外，复用的地址总线与 Bank 控制逻辑、行地址复用器、列地址计数锁存 器、列地址解码器等内部器件共同作用，精确选定存储阵列中与行列地址相对应的存储单 元，进而进行数据存取操作。
</code></pre>
<p>容量计算方法可简化为： 存储容量(Bit)&#x3D;L-Bank 存储单元数×数据位宽(Bit)×L-Bank 个数</p>
<p>SDRAM 芯片的另一个概念：速度等级。DDR3 SDRAM 速度等级相关参数截图，具体见图</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/60e0374fc53606c56859b380fda22e26.png"></p>
<pre><code>    包括速度等级在内的 6 个相关参数。时钟频率(Clock Frequency)，单位 MHz，所列举的具体参数为 SDRAM 正常工作的最高时钟频率，SDRAM 工作时只能**等于 或低于这一时钟频率** ；tRCD 表示写入**自激活命令到开始进行数据读写，中间所需的等待时 间** ，列举的数值表示等待时间的最小值，单位为 ns；tRP 表示自预充电指令写入到预充电完成 所 需 的 等 待 时 间 ， 列 举 的 数 值 表 示 等 待 时 间 的 最 小 值 ， 单 位 为 ns ；**CL(CAS(READ)latency)列选通潜伏期，表示自数据读指令写入到第一个有效数据输出所需 等待时间** ，单位 ns；TargettRCD-tRP-CL 表示最大工作频率下，tRCD、tRP、CL 等待的最小时 钟周期数。
</code></pre>
<h3 id="4-AXI-接口概述"><a href="#4-AXI-接口概述" class="headerlink" title="4.AXI 接口概述"></a>4.AXI 接口概述</h3><pre><code>    Advancede Xtensible Interface，即高级可扩展接口，它是 **ARM 公司 所提出的 AMBA（Advanced Microcontroller Bus Architecture）协议的一部分** 。之所以要采 用 AXI4 接口对 ddr 进行读写是因为 Xilinx 的 mig ddr Ip 核，无论是 6 系列还是 7 系列还是 最新的 FPGA，都集成了 AXI4 接口，为了采用 AXI4 接口进行读写，后续可以兼容 xilinx 的其他 fpga，可复用性更强。
</code></pre>
<p>AXI 协议是一种高性能、高带宽、低延迟的片内总线，具有如下特点：</p>
<p>1、总线的地址&#x2F;控制和数据通道是分离的；</p>
<p>2、支持不对齐的数据传输；</p>
<p>3、支持突发传输，突发传输过程中只需要首地址；</p>
<p>4、具有分离的读&#x2F;写数据通道；</p>
<p>5、支持显著传输访问和乱序访问；</p>
<p>6、更加容易进行时序收敛。</p>
<p>AXI4 协议支持以下三种类型的接口：</p>
<p>1、AXI4：高性能存储映射接口。</p>
<p>2、AXI4-Lite：简化版的 AXI4 接口，用于较少数据量的存储映射通信。</p>
<p>3、AXI4-Stream：用于高速数据流传输，非存储映射接口。</p>
<pre><code>    在这里我们首先解释一下**存储映射（MeamoryMap）** 这一概念。如果一个协议是存储 映射的，那么主机所发出的会话（无论读或写）就会**标明一个地址** 。这个地址对应于系统 存储空间中的一个地址，表明是针对该存储空间的读写操作。**AXI4 协议支持突发传输** ，主 要用于处理器访问存储器等需要指定地址的高速数据传输场景。AXI-Lite 为外设提供单个 数据传输，主要用于访问一些低速外设中的寄存器。**而 AXI-Stream 接口则像 FIFO 一样， 数据传输时不需要地址，在主从设备之间直接连续读写数据，主要用于如视频、高速 AD、PCIe、DMA 接口等需要高速数据传输的场合。**
</code></pre>
<h3 id="5-AXI4-接口讲解"><a href="#5-AXI4-接口讲解" class="headerlink" title="5.AXI4 接口讲解"></a>5.AXI4 接口讲解</h3><p>在本章我们重点介绍 AXI4 接口，它由五个独立的通道构成：</p>
<p>1、读地址 2、读数据 3、写地址 4、写数据 5、写响应</p>
<p>下面是使用读地址和读数据通道实现<strong>读传输过程</strong> 的示意图：</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/cda28565b6a3cceaaefa7d089061712e.png"></p>
<pre><code>    从上图中可以看到，在一个读传输过程中，主机首先在**读地址通道** 给出**读地址和控制 信号** ，然后从机由**读数据通道返回读出的数据** 。另外我们需要注意的是，这是一次**突发读操作** ，主机只给出一个地址，从该地址连**续突发读出四个数据** 。
</code></pre>
<p>写传输过程如下图所示，它用到了写地址、写数据和写响应三个通道：</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/3cacdc3809b6780897b8925b49a1d79f.png"></p>
<pre><code>    主机在写地址 通道给出写地址和控制信号，然后在写数据通道连续**突发写四个数据** 。从机在接收数据之 后，在写响应通道给出响应信号。
</code></pre>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/2f2a8579995320eff3cbae1852918c33.png"></p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/a8c880c2210b35bf29c9ffd20109d563.png"></p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/1eab0ea821db4da4963da6f3f55e7d96.png"></p>
<p><strong>突发写时序：</strong></p>
<pre><code>    AXI4 突发写可以分为 7 个状态，写空闲，写通道写地址等待，写通道写地址，写数据 等待，写数据循环，接受写应答，写结束这 7 种状态。**之所以划分为 7 个状态是为了后续 写程序的状态机做准备。**
</code></pre>
<p><strong>写空闲</strong> ：等待触发突发信号。</p>
<p><strong>写通道写地址等待</strong> ：准备好写地址 AWADDR，然后拉高 AWVALID。</p>
<p><strong>写通道写地址</strong> ：从机接受到 AWVALID，发出 AWREADY。</p>
<p><strong>写数据等待</strong> ：准备好数据 WDATA，拉高 WVALID。</p>
<p><strong>写数据循环</strong> ：从机接受 WVALID ，确认数据 WDATA 有 效 并 且接 受 ， 发 出 WREADY，AXI 是突发传输：循环该操作到接受到<br>WLAST 最后一个数据标志位。</p>
<p><strong>接受写应答</strong> ：接受到从机发出的 BVALID，主机发出 BREADY。</p>
<p><strong>写结束</strong> ：拉低未拉低的信号，进入写空闲。</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/2a0f06fb6a50995ff5c2cbe2d97b5402.png"></p>
<p><strong>突发读时序：</strong></p>
<pre><code>    AXI4 突发读可以分为 6 个状态，读空闲，读通道写地址等待，读通道写地址，读数据 等待，读数据循环，读结束这 6 种状态。之所以划分为 6 个状态是为了后续写程序的状态 机做准备。
</code></pre>
<p><strong>读空闲</strong> ：等待触发突发信号。</p>
<p><strong>读通道写地址等待</strong> ：准备好写地址 ARADDR，然后拉高 ARVALID。</p>
<p><strong>读通道写地址</strong> ：从机接受到 ARVALID，发出 ARREADY。</p>
<p><strong>读数据等待</strong> ：从机器准备好数据 WDATA，从机拉高 RVALID。</p>
<p><strong>读数据循环</strong> ：主机接受 RVALID，确认数据 RDATA 有效并且接受，发出 RREADY 给 从机，AXI 是突发传输：循环该操作到接受到<br>RLAST 最后一个数据标志位。</p>
<p><strong>读结束</strong> ：拉低未拉低的信号，进入读空闲。</p>
<p>从上面的时序图与时序分析可知两种关系必须被保持：</p>
<p>（1）读数据必须总是跟在与其数据相关联的地址之后。</p>
<p>（2）写响应必须总是跟在与其相关联的写事务的最后出现。</p>
<p>本文转自 <a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_32971095/article/details/133984011">https://blog.csdn.net/qq_32971095/article/details/133984011</a>，如有侵权，请联系删除。</p>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/26/%E9%9A%8F%E7%AC%94/%E8%B7%AF%E6%97%81%E6%9C%89%E6%89%87%E7%A5%9E%E7%A7%98%E7%9A%84%E9%97%A8%E5%BE%88%E4%B9%85%E4%BB%A5%E5%89%8D%E5%B0%B1%E5%B7%B2%E6%95%9E%E5%BC%80.../">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="SWQ">
      <meta itemprop="description" content="舟遥遥以轻飏，风飘飘而吹衣">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Switch">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/26/%E9%9A%8F%E7%AC%94/%E8%B7%AF%E6%97%81%E6%9C%89%E6%89%87%E7%A5%9E%E7%A7%98%E7%9A%84%E9%97%A8%E5%BE%88%E4%B9%85%E4%BB%A5%E5%89%8D%E5%B0%B1%E5%B7%B2%E6%95%9E%E5%BC%80.../" class="post-title-link" itemprop="url">路旁有扇神秘的门很久以前就已敞开...</a>
        </h2>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-26 16:00:00" itemprop="dateCreated datePublished" datetime="2023-10-26T16:00:00+08:00">2023-10-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-02-09 14:43:19" itemprop="dateModified" datetime="2025-02-09T14:43:19+08:00">2025-02-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">随笔</span></a>
                </span>
            </span>

          
            <span id="/2023/10/26/%E9%9A%8F%E7%AC%94/%E8%B7%AF%E6%97%81%E6%9C%89%E6%89%87%E7%A5%9E%E7%A7%98%E7%9A%84%E9%97%A8%E5%BE%88%E4%B9%85%E4%BB%A5%E5%89%8D%E5%B0%B1%E5%B7%B2%E6%95%9E%E5%BC%80.../" class="post-meta-item leancloud_visitors" data-flag-title="路旁有扇神秘的门很久以前就已敞开..." title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2023/10/26/%E9%9A%8F%E7%AC%94/%E8%B7%AF%E6%97%81%E6%9C%89%E6%89%87%E7%A5%9E%E7%A7%98%E7%9A%84%E9%97%A8%E5%BE%88%E4%B9%85%E4%BB%A5%E5%89%8D%E5%B0%B1%E5%B7%B2%E6%95%9E%E5%BC%80.../#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2023/10/26/%E9%9A%8F%E7%AC%94/%E8%B7%AF%E6%97%81%E6%9C%89%E6%89%87%E7%A5%9E%E7%A7%98%E7%9A%84%E9%97%A8%E5%BE%88%E4%B9%85%E4%BB%A5%E5%89%8D%E5%B0%B1%E5%B7%B2%E6%95%9E%E5%BC%80.../" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>209</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​        路旁有扇神秘的门很久以前就已敞开。在这驻留许久却未敢窥见门内景致。要赶路了啊！摔门而去别再迷恋了。</p>
<p>​        奈何固执冲动不思悔改，我努力地说服自己：“进去看看吧，有美好的风景”。但我片刻压制住浮躁，列出了两行论据，事实似乎就摆在眼前：</p>
<p>支持的论据：勉强的巧合、可笑的猜测</p>
<p>反对的论据：敷衍的回答、无趣的遇见</p>
<p>​        伤感地狡辩：“这皆是欲加之罪，莫须有啊！是我自己胡想，过度分析啊！”</p>
<p>​        仍不相信，于是逼着自己注视论据。</p>
<p>​        眼角朦胧醉方休。</p>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/25/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8A%E6%B2%A7%E6%B5%AA%E4%B9%8B%E6%B0%B4%E3%80%8B%E2%80%94%E2%80%94%E9%98%8E%E7%9C%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="SWQ">
      <meta itemprop="description" content="舟遥遥以轻飏，风飘飘而吹衣">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Switch">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/25/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8A%E6%B2%A7%E6%B5%AA%E4%B9%8B%E6%B0%B4%E3%80%8B%E2%80%94%E2%80%94%E9%98%8E%E7%9C%9F/" class="post-title-link" itemprop="url">《沧浪之水》——阎真</a>
        </h2>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-25 00:08:00" itemprop="dateCreated datePublished" datetime="2023-10-25T00:08:00+08:00">2023-10-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-02-09 14:06:37" itemprop="dateModified" datetime="2025-02-09T14:06:37+08:00">2025-02-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">读书笔记</span></a>
                </span>
            </span>

          
            <span id="/2023/10/25/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8A%E6%B2%A7%E6%B5%AA%E4%B9%8B%E6%B0%B4%E3%80%8B%E2%80%94%E2%80%94%E9%98%8E%E7%9C%9F/" class="post-meta-item leancloud_visitors" data-flag-title="《沧浪之水》——阎真" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2023/10/25/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8A%E6%B2%A7%E6%B5%AA%E4%B9%8B%E6%B0%B4%E3%80%8B%E2%80%94%E2%80%94%E9%98%8E%E7%9C%9F/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2023/10/25/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8A%E6%B2%A7%E6%B5%AA%E4%B9%8B%E6%B0%B4%E3%80%8B%E2%80%94%E2%80%94%E9%98%8E%E7%9C%9F/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>19k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>17 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>目录</strong></p>
<p><a href="#%E6%9C%89%E6%84%9F">有感</a></p>
<p><a href="#%E6%91%98%E6%8A%84">摘抄</a></p>
<p><a href="#%E5%BA%8F">序</a></p>
<p><a href="#%E4%B8%80">一</a></p>
<p><a href="#%E4%BA%8C">二</a></p>
<p><a href="#%E4%B8%89">三</a></p>
<p><a href="#%E5%9B%9B">四</a></p>
<hr>
<h1 id="有感"><a href="#有感" class="headerlink" title="有感"></a>有感</h1><blockquote>
<p>离娄上·第八章</p>
<p>​    孟子曰：「不仁者可与言哉？安其危而利其菑①，乐②其所以亡者。不仁而可与言，则何亡国败家之有！有孺子歌曰：『沧浪③之水清兮，可以濯我缨④；沧浪之水浊兮，可以濯我足。』孔子曰：『小子听之：清斯濯缨；浊斯濯足矣。自取之也。』夫人必自侮，然后人侮之；家必自毁，而后人毁之；国必自伐，而后人伐之。太甲曰：『天作孽，犹可违；自作孽，不可活。』此之谓也。」</p>
<p>​    孟子说：「不仁的人怎么能与他谈仁呢？别人有危险，他无动于衷，别人遭了灾，他却趁火打劫，高兴于别人所遭受的惨祸。不仁的人如果可以与他交谈，那怎么会有亡国败家的事呢？有个孩子唱道：‘清澈的沧浪水啊，能用来洗我的冠缨；浑浊的沧浪水啊，能用来洗我的双脚。’孔子说：‘弟子们听着！清的水洗冠缨，浊的水洗双脚，这都是取决于水的本身。’人必定是有自取侮辱的行为，才有他人来侮辱他；家必定是自己招致毁坏，才有他人来毁败它；国家必定是自己遭致讨伐，才有他人来讨伐它。《太甲》说：‘上天降灾，还可躲避，自己作孽就无法活了。’说的就是这个意思。」</p>
</blockquote>
<p>​    看完序章时我以为这故事讲的是公正与气节，池大为检查正义而遇不公，忍辱负重却走投无路，最后靠一封举报信的背叛赢得权，但最终改邪归正，重新拾起良心与忠骨，不忘父亲的精神的故事。</p>
<p>​    这是本两千页的长篇小说，看了几百页，索性直接去读最后那五页，惊奇发现池大为竟升了处长，却看不懂，他像是无可奈何，愧对父亲在天之灵，烧了那本象征着气节的《中国历代文化名人素描》。</p>
<p>​    那些大量的人物内心独白，我认为反映但是作者的内心思考。池大为先前之清高，那股未凉热血，所谓“年轻人的冲动”，向往先贤的高尚品格…引起曾经同样追寻高尚的我的共鸣。什么叫现实主义小说？小说写的如此真切，池大为坚守心中的清高，最终走投无路，于是向先前鄙视的人看齐，和马厅长同一战线，一点点向上爬，到最后继承了马厅长，成了和马厅长一样的人。在规则和模式的培养下领导如此相似，敏锐地解析言行，在乎官本位。而池大为从领导面前卑躬屈膝到见着别人对他卑躬屈膝，成了一个照应，一个对比，不禁让人有些恍惚与感慨。</p>
<p>​    想起这池大为曾经的模样，他口中似乎也在诉说着我的清高，不与世同流合污，不愿参与凶残的竞争与资源争强，如同动物一般。可现实是残酷的，什么是虚的，什么是实的，摸得着的，评价标准是什么，时代的标准如何，让人深陷个人主义，怀疑主义和虚无主义，又深陷对外高尚和对内珍惜的矛盾之中。</p>
<p>​    我是个自我乐观的悲观主义者，看了几篇对小说的评价都是关于反腐的，讽刺那个时代被扭曲的价值观，但我觉得这篇小说更像是一个启示。当然宣传家们都会往好的方向宣传，这是一个讽刺反腐的题材。但我的所谓悲观主义者便是承认社会现实仍然如此，可能发生了一些改变，但总归也是旧的规则变成了新的规则。人依旧是个人，都是娘胎里来的，神性的价值被怀疑，小说就是如此现实地说明了一个道理。池大为最后烧掉到什么是，是社会良知的泯灭还是妄想的终结，是非对错？可终于要成为一个赤诚的人啊!</p>
<h1 id="摘抄"><a href="#摘抄" class="headerlink" title="摘抄"></a>摘抄</h1><h2 id="序"><a href="#序" class="headerlink" title="序"></a>序</h2><p>​    书的封面已经变成褐黄，上海北新书局民国二十八年出版，算算已经三十八年了。我轻轻地把书翻开，第一页是孔子像，左下角竖着写了“克己复礼，万世师表”八个铅笔字，是父亲的笔迹。翻过来是一段介绍孔子生平的短文。然后是孟子像，八个字是“舍身取义，信善性善”；屈原，“忠而见逐，情何以堪”；司马迁，“成一家言，重于泰山”；稽康，“内不愧心，外不负俗”；陶渊明，“富贵烟云，采菊亦乐”；李白，“笑傲王侯，空怀壮气”；杜甫，“耿耿星河，天下千秋”；苏东坡，“君子之风，流泽万古”；文天祥，“虽死何惧，丹心汗青”；曹雪芹，“圣哉忍者，踏雪无痕”；谭嗣同，“肩承社稷，肝胆昆仑”，一共十二人。我翻看着这些画像，血一股一股地往头上涌，浑身筛糠般地颤抖。那种朦胧而强烈的感情冲击着，我自己也无法给予确切的说明。我准备把书合上的时候，发现了最后一页还夹着一张纸，抽出来是一个年轻的现代人的肖像，眉头微蹙，目光平和，嘴唇紧闭。有一行签名，已经很模糊了，我仔细辩认看了出来：池永昶自画像，一九五七年八月八日。下面是一横排钢笔字：“高山仰止，景行行止，虽不能至，心向往之。”这是父亲的像啊，二十年了！一口一口地我喘着粗气，声音在夜中被放大了，像门外传进来的。山风呜呜地响着，天亮了。</p>
<h2 id="一"><a href="#一" class="headerlink" title="一"></a>一</h2><p>​    不过我到底还是没有把这些问题放在心中反复纠缠。在那些岁月里我心中充满了放眼天下的激情，无论如何都不能满足于那种把日子当作日子，把自己当作终极的生活，也不能设想把视野局限于以自我为中心以私利为半径的那个小小圆圈之中。那种庸人哲学轻如鸿毛，我觉得实在很可笑，也实在是不屑一顾。别人愿意用世俗的方式体验世界，那是他的可怜选择，我决不会走上那条路的。似乎有一种神秘的声音，从灵魂深处生长出来的声音提醒着我，我注定是要为天下，而不只是为了自己活着的，这是我的宿命，我别无选择。我在内心把那些将物质的享受和占有当作人生最高目标的人称为“猪人”，在精神上与他们划出了明确的界线，并因此感到了心灵上的优越。人应该追求意义，意义比生活更重要，不然怎么还叫做人呢？那时候农村改革刚刚兴起，暑假里我和胡一兵刘跃进一起，每人背上一个挎包，到丘山全县的各个乡去搞调查，找各种各样的人了解情况，把农民们说的话都用小本子记下来。晚上，就睡在草丛里，蚊子多得要命，就轮着摇扇子，一边把白天了解的情况作出种种分析，得出宏伟的结论。睡在青草中仰望无边的星空，真有临环宇而小天下的豪迈气概。为了一个问题我们可以争上大半夜，似乎结论有关民族前途人类命运。漂流了二十多天，我们到了刘跃进家，关上门忙了几天，写出了一份调查报告，三万多字，寄到国务院去了。虽然就没了下文，但几个人还是觉得办了一件大事。</p>
<p>​    我扶着丁小槐进了屋，他拿出几张钞票说：“池大为，兄弟，你再去买瓶酒来，要五粮液，今天我们喝个舒服透。”我说：“你醉了，我给你倒杯茶吧。”他把我倒的茶一推，水都溅到了身上。我说：“烫着没有？”他说：“我不喝茶，我要喝酒，我要喝酒！”话没说完，一口就吐了出来。我赶紧把洗脚的桶子提到他床前，又叫服务员来把地上清洗了。丁小槐躺在床上喘着气说：“池大为，兄弟，你说今天的事吧，我还有脸做人？还做人？狗都不是这样做的。做狗摇一摇尾巴，还给一块骨头呢，也许还摸一摸它的狗头呢！我呢，我呢？摇摇尾巴，照你心窝就是一脚！”我说：“你醉了，你醉了。”想给他脱了衣服去睡。他用力推开我的手说：“你也说我醉了，连你也说我醉了！我醉了我有这么清醒？今天是我一生最清醒的一天，我总算把自己看清了，什么东西！”我还是给他脱了衣服说：“你没醉，你睡一觉醒来就更没醉了。”他躺下去说：“我真的很清醒，你看我吧。”他顺手拿起一本书说：“《围棋初步》，对不对？醉了的人有这么清醒？我总算把世界看清了，也把人看清了，什么东西！”我说：“你瞌睡了，你没醉，你瞌睡了。”他把书放下，用力一拍胸脯说：“谁说我瞌睡了，我一夜不睡也不瞌睡。池大为，兄弟，掏心尖尖上的话跟你说一句吧，谁不想立起来做个人，倒想当个摇尾巴的东西？小时候我家里就喂过一条叫白利的狗。有时候我观察它好久，一叫它的名字，那尾巴就接通了电似的摇起来，左边右边欢势欢势的！我心里也明白这不过是一条狗罢了，可它一摇尾巴你就没办法不喜欢它。要是你丢一根骨头给他，它那尾巴摇起来就不知道自己姓什么了。有时候我也看不起自己，觉得自己就只少一支尾巴了。没想到摇得不好还要挨一脚，我家喂的狗我可从来没踢过，踢不下脚！人怎么还不如狗？光是为了我自己吧，我要挺得笔直的做个男子汉！可是你知道我家在山沟沟里，一家人都巴巴地望着我，我不想办法出息出息行不行？不行啊，我有责任！像我这样的人不靠自己又去靠谁去？我弟妹年龄一年年大起来，盼着我带点消息回去，我都没勇气回去过年了。哪怕让他们到食堂里做个临时工吧，到厅里看个大门吧，那也得等我当了个处长才行，对吧？为了这个我要装着对自己无尊严的生活麻木不仁。世道就是世道，它的道理是这个讲法，你还想有别的讲法？我只能把头低了，顺着它走，难道谁还能对它耍牛脾气？”他说着一个大哈欠打了出来，身子一侧睡了下去，一边说：“世道你说它吧，它公平？那是电视机哄着你玩的，对吧？”不再说话。我喊他两声，他的鼾声却上来了。我望着他，觉得对他也没了那份怨恨的心情，他真可怜。</p>
<h2 id="二"><a href="#二" class="headerlink" title="二"></a>二</h2><p>​    俗事都已放下，欲念不甚强烈，天下已经渺远，这样时间过得飞快。看着厅里许多人围绕着权位时时盘算日日焦虑，觉得非常可笑。我以看表演的眼光看那些人，这是一些没有时间观念的人，他们把鼻子前的那点东西，那点转瞬即逝的东西看得太重了，不能放开眼光往远处看。就算是占了一点小便宜吧，也只是脸盆里的风暴，是一粒芝麻，是臭虫放的一个屁。一个人，他能老是琢磨着那个臭虫屁吗？好几次我用同样的问题去问别人：“马厅长前面是谁当厅长？”大家都知道是施厅长。施厅长前面呢？就没有人知道曾有过一个聂厅长了。聂厅长前面，连我也不知道了。聂厅长已经作古，想当年他也风光过的，还不是世事如烟？时间使一切重大的事件都变得意义暧昧。这使我感到非常欣慰，看他们那一群俗人，每天就动些小脑筋，搞些小动作，撑破了天当个处长厅长，也逃不脱随风飘逝的命运。那么察颜观色低三下四拉拉扯扯，值得？想到那些为了某种坚守，生前受尽磨难而在时间之中永垂不朽的人，他们才令人口服心服呢。又把他们的书找来重读，越发觉得博大精深韵味无穷，这样我感到了一种登高临远的安宁。我又何必盯着自己的鼻子尖，碌碌于身边的琐事？我要展开心境，看一看天边的风景，想一想远处的事情。</p>
<p>​    我在山风中望着星星一闪一闪地跳，望了很久。仰望浩渺的星空，一个人可以得到心灵的平静。为生活中那点琐琐碎碎庸庸碌碌的东西焦虑，惶惶然，那值得吗，有意义吗？在星空下我越发坚信，有一个需要用心去感受却难以说明的灵魂的空间真实地存在着，那个空间与世俗世界不同，价值不同，原则不同，眼光不同，一切都不同。在那里，世俗世界的一切都无需来作比方，那完全是另外一种境界。望着星空我有了一种大气，它使我有力量去做一个踏雪无痕履水无迹的忍者。心灵的平静是一种至高的价值，这是圣者之圣，忍者之忍，在不经意之中，已经沟通了无限。</p>
<p>​    自我是人性的盲点，人太爱自己，本能地从自我的立场去体验一切，评判一切，本能地排斥那些对自己不利的东西。人们对事情的态度总是由自己的情感和利益决定的，没有什么客观性可言。世界上没有无缘无故的爱和恨，也没有无缘无故的赞成和反对，可那些缘故的依据又是什么？不论事情转了多少个弯，说到底那些缘故只能是自己。偏见无法依据逻辑来矫正，它本身就是一个逻辑起点，这实在是没有办法的事情。我能要求董柳客观地看一波吗？人有脑袋，可他的脑袋是由屁股决定的，屁股坐在哪里就说哪里的话，而且坚定不移坚如磐石。道理是假的，利益是真的。道理随着利益转，因此各有各的说法。小人物如此，大人物更是如此，不同的只是小人物没有力量左右事情的方向。这么想开去我对理性和公正失去了信心，甚至感到了恐怖。</p>
<p>​    时代变了，我变不变？别人都轻装上阵了，朝着幸福的道路上迅跑，而我还在原地徘徊。巨大的潮流涌来了，我感到了脚下的土地在震动，不，不止是震动，简直就是地动山摇，我自岿然不动？只有跟上潮流，才有希望。我意识到了自己的血液中流淌着一种异质的东西，这是一种情感本能，使我与潮流格格不入，我曾为之骄傲，可这骄傲越来越坚持不去，也越来越令人怀疑了。没有人愿意理解，包括董柳，包括许小曼。只有在夜深人静中，自己面对着想象中那些逝去的圣者的亡灵，在虚无的空间充实地存在着的亡灵，我才感到了沟通的可能。我把自己设想成一个追随者，在追随中才有了找到归宿的感觉。什么都没有的人凭什么去看不起什么都有的人？他那么在乎你看得起看不起？猪人也好，狗人也好，那只是一种说法，另一种说法就是精明的人，能干的人，适于生存的人。而关注人格，坚守原则，自命清高那也只是一种说法，换一种说法是无能的人，跟不上时代的人。辩证法真是奇妙无比，它给人选择说法的自由。这个时代已经失去了标准，道理总是可以反过来讲。什么都是相对的，认识到这一点我陷入了极大的惶惑。于是价值论的真理只是一种幻想，于是我珍视的那些东西也只是一种说法，在瞬间就可能惨遭颠覆，而且已经被自己昔日的同学，那些曾在国歌声中含泪狂吼的同学抛弃。当牺牲和坚守都只是一种说法的时候，牺牲就变得意义暧昧。在很多时刻我似乎已经下了最后的决心，要抛开一切，轻装上阵，投入生存的竞争。可这样想着又把自己吓着了：“那样我是谁呢，我还是个知识分子吗？”赶紧缩了回来，把那些想法关在心灵的大门之外。我自我欣赏地品味着想象中的门关上的瞬间发出的那“砰”的一声震响。</p>
<p>​    生命的真谛就在这些平凡的瞬间，除此之外并无它物。很多年来支撑着我精神大厦的天下意识千秋情怀，不过只是一种心灵情结罢了，它的全部意义就是对一个人的心灵意义。信则有，不信则无，我为什么要信其有而拘束了自己呢？我为自己虽然活着却失去了本源意义而沉重，却又警惕着任何建立新的本源的努力。毕竟我是一个理性主义者，一个渎神者，我看清了真相。意义抽空了，价值崩塌了，可人还要活下去，在真空中在废墟上顽强地活下去。把世界看得太清楚想得太清楚是如此地可悲，就像一个人站在悬崖上，前面无路可走。这是一个速朽的时代，一切即生即灭随荣随枯。原有的意义世界已经崩塌，我必须在一种新的时空观念上，在瞬间和角落的认识上，在个人现实生存的基础上，重新构筑自己的意义世界。这太可悲了，但这是真实。这时我有着豁然贯通之感。一个人就是不能想得太多，想得太多就把自己给捆住了。有的人就希望别人都耽于沉思，犹豫徘徊，自己则趁机在现实中大展拳脚。我也要像他们一样，回到真实中来。自我的存在是最大的真实，这个事实无法用逻辑摧毁。如果这样，自己做人的方式就完全不同了，自我就是一切，而为了这个目标，操作方式是开放的，没有拘束的。这很可怕，又很令人神往，令人怦然心动，它展示着一种新的可能性。我不必再坚守什么，我解放了自己，我感到了一种堕落的快意和恐惧。想不到我池大为徘徊了这么多年，竟得出一个尽量占有及时行乐才是真的结论，这样我和猪人狗人也没有什么两样了，我彻底地理解了他们，理解了丁小槐，任志强和匡开平他们。他们不是好人，也说不上是坏人，他们都是适生的人。</p>
<p>​    我在风中坐了很久，左边的脸颊已经吹得麻木。怀着沉重的虚无感，我下了山。虚无感是如此地真实，我不再相信现实后面还有着什么；虚无感又是如此虚妄，我得活下去，还有一波和董柳。</p>
<p>​    忽然下起了雨，一会就大了起来，想不到冬天还会下这么大的雨。很多人跑了起来，一会街上就没几个人了。我毫无感觉地走着，一直往前走，不知道自己从哪里来到哪里去。雨滴顺着脸流到嘴边，我本能地用舌子在嘴边一卷，马上又想到了惩罚，就闭紧了嘴唇。一个流浪汉在雨中从容地走着，一边唱着：“不要问我从哪里来，我的故乡在远方，为什么流浪，流浪远方，流浪。”我拦住他指了天上说：“朋友，下雨了。”他笑着说：“天要下雨，娘要嫁人，让它去吧。”一直去了。雨水顺着头发流下来，我双眼都模糊了，就把衣服撩了起来，在脸上抹了一把，唱道：沧浪之水清兮，可以濯吾缨；沧浪之水浊兮，可以濯吾足。我在不觉之中拐进了一条小巷，走了一阵才发现这是正在改造的旧城区，很多房子的墙上都用红色的颜料画出一个大圈，中间一个“拆”字，不少房子已经被掀掉了房顶。再往前走。走到尽头发现是一条死巷，我就在一个台阶上坐下来。屋檐上的水成串地落在我身上，我冻得发抖，自言自语地说：“好，好，好。”就扭着身子，仰起脸迎着那水，让水泻在我的脸上，又溅开去。突然我忍不住张开嘴，把那水大口地吞了下去。真解渴啊，水原来是这么好喝的一种东西。嘴边停着一点什么，我用舌子一卷，是一片腐叶，发出一种腥臭。我用力嚼碎，咽了下去。</p>
<h2 id="三"><a href="#三" class="headerlink" title="三"></a>三</h2><p>​    为了儿子妻子，我得挣扎，我有不可推卸的责任，活着是硬道理，没有比这个硬道理更硬的道理的了。现实没有诗意的空间，只有真实到残忍的存在，我只能直面不能躲避，这是唯一能够与生活发生有效联系的选择。云里雾里的事，万古千秋的事，实在也是不能再想了，那是一个黑洞，不论有多少人作了多大的牺牲，被吸入了黑洞连一点痕迹也不会有。这样想着我浑身冰冷，感到有一种难以表述的悲哀悄然却无可阻挡地渗入了内心的极深处。不知道陶渊明曹雪芹的妻子儿子是怎样想又是怎样过的。要说清高吧，那要有起码的本钱。梅少军放下文联主席不当到乡下隐居去了，他是功成名就之后看淡了一切才去的。他在乡下有别墅式的房子，有车库，有花园，在城里还有房子，有工资，有一切福利，我能跟人家比吗？东施效颦！大隐隐于市？屁话！我思索了很久，沿着任何方向去追问这个世界，都会遇到精神的狙击，并没有一种生存姿态具有绝对的意义。既然如此，我又何必？那种把世俗世界甩到一边去的生活，实际上是不可能的。这使我发现了自己的精神实际上是极其有限的，被拘禁在一个无形的空间之中，无法超越，而想象中的超越也越来越虚弱而苍白了。想得麻木了我用力地扭着头，想把这种种想法沿着某种椭圆的切线抛出去。那些从来不思索的人也这么活着，还活得好一些，这使思索的意义变得十分暧昧。思索着，这是我的骄傲，也是我的劫难。</p>
<p>​    他望着我，要在我脸上看出什么似的，半天说：“小池你吧，就是把自己看得太重了。”我不解说：“我一官半职都没有，怎么把自己看得太重？”他笑了说：“正因为把自己看得太重，才一官半职都没有。你想硬着那口气甚至还要挑战，又想从中得到一切，那不合逻辑。大丈夫以屈求伸，伸着的人，谁不是屈过来的？做个大丈夫不容易啊，不然怎么叫做大丈夫？一个中国人，他把屈伸这两个字放在心里反复揣摩透了，他就有办法了。”他说着双手捏了拳缩到腋下，猛地打出来说：“屈就是蓄势，不蓄势能有力？把自己看得太金贵就金贵不起来，这是生活的辩证法。不把自己看成什么，才可能成为一点什么，一开始就把自己看成什么，那到头来什么也不是，这也是生活的辩证法。把自己看那么金贵，总想上面慧眼识英雄，可能吗？不合乎人性吧！屈原是你佩服的吧，还有李白，他们就是把自己看得太重了，怎么样？这是几百年一遇的天才，才没被浪花淘去，淘去的就不知几何了。”我说：“把那些大人物一路数下来，就没有几个命好的，莫不冥冥之中有什么力量跟他们过不去？”他又接上一根烟说：“小池还是想事情的人吧。他们才气冲天，不可拘于斗室之内，性情独异，不肯垂首低眉伏小。他们是为社会不容的人，官场没有他们的一席之地，他们必须出局。这成就了他们，又祸害了他们，他们的一生无不悲凉凄惨。他们都是绝顶聪明的人，但他们在一种状态中，一个局中，他们面对的不是哪个人，状态是不可反抗的，因此连他们也无可奈何。他们是传统，但置他们于绝地的也是传统。”我点头说：“一想起这些名字吧，叫我屈我就屈不下去，有些话说不出口，说了就对不起他们。”他笑了说：“你刚才说师母不是说得挺好吗？顺着势去说，又不要你凭空捏一朵花出来说。”又说：“对不起？天下就没有对得起这些名字，又对得起自己这一生的好事！”他指头点了我说：“连曹雪芹都做不到的事，你池大为想做到？那你比他还聪明？”我说：“做人真难啊！”他说：“想想吧你想想吧，把屈和伸这两个字想透了，咱们再往下说。”</p>
<p>​    我看了几十年，就看清了一个人字。人有偏见，人永远站在自己利益的立场上考虑问题，所以人从来不讲道理，因为他只从自己的角度去讲道理。没有谁整你，没有谁说你一句不是，甚至一个难看的脸色都没有，可是你出了局，你完了，他不给你机会，你跑到哪里去叫屈？从来就是以柔克刚。你就是不能去设想谁天然就能代表公正，别说他是凡人，他是孔夫子都不行啊。”我说：“只是人在那个份上最喜欢扮演公正的化身。”他说：“你说对了，但只对了一半，不是他们自己喜欢不喜欢，那是一种角色需要，给你到那个份上，你也要那么演着。”我说：“有偏见有冲动又要做出公正化身的姿态，总是双重人格，这么做着也不容易呢。”他说：“你说对了，但只对了一半。进入角色了就没有你想的那么困难了。”</p>
<p>​    城市的空气中散发着一种气息，令人微醺的气息。在不知不觉之中，它改变了一切，也改变了人。当你意识到这是一种潜在的征服而想反抗的时候，却失去了反抗的理由。一切都是那样自然平和却不可逆转地展开着，展开之中有一种神秘的力量，瓦解性极强的力量，使一切深刻性都变得苍白，甚至滑稽。最深刻的思索也改变不了最简单的事实，因此最简单的事实有着最深刻的内涵。我意识到了自己是这个时代的堂吉诃德，比堂吉诃德还不如。堂先生把滑稽当神圣是没有意识到自己失去了历史的依据，不合潮流，而我意识到了却还是不合潮流，毫无价值毫无意义地不合潮流。的确，潮流不是从天上凭空流下来的，它的形成有其深刻的原因，有其必然性，也有其历史的依据，一个人不可能凭着匹夫之勇去对抗这种必然性，对抗历史。这是宿命，是那些还愿意相信和坚守一点什么的人最大的悲哀，他们甚至不能给自己找到一种依据，一种理由。</p>
<p>​    我觉得自己看透了世界，没有来世，没有终极，没有时间后面的本质，因此没有牺牲的理由。难道自己的骨灰对世界会有一种期待？时间之中的历史因素是无法抗拒的，展开着的市场不承认理想主义英雄主义。人需要一个神话，但这个神话却被永远地击碎了。于是，自己就是终极，就是唯一的意义之源。在这个时代，过程与终极已经合流。这是破译，这是底牌，这是真相，这是这个时代最大的觉醒，也是最大的悲哀。在今天，生存已经成为生存的唯一依据，这太可怜也太可悲了。人不是猪狗，人需要在自我生存之外去寻找活着的依据。可今天，当人们把自己当作意义之源，他就切断了自己通向无限的可能性。觉醒的人是可悲的，他承受着残忍的悲哀，横下心剪断了对世界的任何念想，舍弃了道义人格和良知，顺从了可亲可近可悲可鄙的现世主义。我曾认为如果一个人仅仅只凭着生活经验活着，那他一定是个狭隘的人，只看见自己的人。世界上一定还有另外一种声音，从神秘的虚无之中发出的声音，这种声音无法驾驭，也无法证实无法描述，却是那样确凿地存在。这是更高的真实。这个真实不是上帝，而是深心那种无法说明的冲动和渴望。这种声音只有少数人能够听到，并受到感召，使他有抗拒生活经验的力量。那些圣人们，就是一些抗拒者。我仍崇拜他们，但我再也不能跟着他们走下去了。对世界我无能为力，我有权利放弃，我只能如此。无能为力，无可奈何，这是我的理由，也是我的解脱，我感到了如释重负的轻松。那些猪人，还有狗人，其实是聪明的人，幸福的人啊。人这一辈子，只能面对鼻子下的那一点点东西，人其实就是这么可怜，可悲。但只有在可怜可悲之中，才可能与现实发生有效联系，才可能萌生出一点点希望的萌芽，可怜可悲的希望萌芽。</p>
<p>​    我一急就顾不上要省钱，叫了的士回到大院，把事情跟晏老师说了。晏老师听了，微闭着眼，头悠悠晃了几下说：“好事，好事。”我说：“那我应该签个名？”他一笑说：“凭这几条罪状，想倒掉一个厅长？今天倒得了马厅长，明天就倒得了龙厅长，接下来还有羊厅长，后面还有牛省长侯部长，那还有个完？圈子里的人，天然就是一条战线的，高度默契。没有重磅炸弹，不要想炸翻一个人！这些人只知道给人看病，不懂政治！”我说：“列上的这七条，条条都有那么点意思。”他冷笑一声说：“专制独裁，那是一元化领导。张三李四都要插进来放屁，那还能干事？好大喜功，那是敢想敢干有魄力，钱是欠下了，但房子盖在那里，二甲三甲上去了，哪个厅级单位不亏下几千万？至于以权谋私，权在手中，自己的儿子都不照顾一下，那合人性？他舒少华那几年谋的私比谁少吗？告到省里，省长的儿子就没出过国？如今政治问题不是问题，没那么傻的官，作风问题也不是问题，那是个人的事情，工作问题更不是问题，怎么干都是可以讨论的，抓不住。唯一的问题就是经济问题，七条里没这一条，炸不翻谁！说起来马垂章还不简单呢，他忍得住！他要发大财也发了，一口气的事，他忍得住！不容易啊！这样的官你还想打倒他，你准备打倒多少？中国的官上去不容易，下来更不容易。能上能下能官能民，那是报纸上说的，哪里有那样的事？”我说：“这么说起来马厅长没事？”他微微笑了说：“话是活的，换句话七大罪状是七大功绩！就看谁来说这个话了。上面的人想换他，顺势就掰倒了，不想呢，开个表彰会那是理直气壮的。话语权决定一切，就看在谁手里。”我连连点头说：“这个东西真妙啊妙啊妙啊，真是妙不可言啊。”他说：“一个人飞黄腾达或潦倒一生，就看上面的人愿意怎么说你，说你！反正怎么说都是可以的。”我说：“我一辈子就是别人一句话，想起来心里发冷。我还以为自己是谁呢，还把骨气吊得高高的呢。古希腊格言说，认识你自己。我想这算什么格言，谁还能不认识自己吗？现在才知道，认识你自己，不容易！我认了这么多年，头破血流才认清楚了一点，以前太狂妄了，真不知天高地厚山高水险。”他说：“舒少华就是典型的不认识自己，自恃在医学界名气大，自己是人物，对马垂章也敢唱反调。今天你是个人物，明天说你什么都不是，你就什么都不是，你的学术地位是需要权威人物来说的，说你有就有，说你无就无，他不明白这个说有多厉害。”</p>
<p>​    事情的结局很富于戏剧性。从当天下午开始，在信上签名的人就纷纷找到马厅长那里去表示忏悔，申明自己受了骗，或是想潜伏下来看看舒少华的花招。舒少华组织起来的阵线很快就崩溃了。过几天省委组织部的调查组下来时，这些人以最坚定的口气表示马垂章是怎么的好，而舒少华怎么不是东西，简直就是阴谋家。找我个别谈话时，我说得很平静，但句句话都在关节之处，连调查组的人都不住地点头。有马厅长在才有我池大为的活路，这种结盟是如此地坚固，又是如此地默契，圈子里就是这样，也只能这样。调查组回去后不久，省委组织部就下了文件，空缺了近一年的厅党组书记由马垂章同志兼任。舒少华打了报告要求提前退休，以为自己是全国著名专家，有影响，又是那个专业报博士点的领衔人物，一定会得到挽留。他失算了，他的报告第二天就批了，他气得哭了几天，病了卧床不起。舒少华的结局出乎我的意外，但想一想也只能如此。他以为自己是谁，他耍知识分子的脾气，他不明白自己的依附性，因此怎么说他都是可以的，也是随时可能被抛弃的，就像一块用旧了的抹布。说到底他学问再高也不是什么标杆，他以为何利何梁奖应该是自己的，没得到就跳了起来，结果就是如此。世界上有两种人，说人的人与被说的人，说的人掌握别人的命运，被说的人命运被别人掌握。说与被说，这是两种完全不同的人生境界。归根到底，舒少华只是一个被说的人。当然我也是个被说的人，但有不同的说法。转机是在不经意中产生的，但意义非同小可。如果渺渺不病那么一场，又如果尹玉娥不向舒少华推荐我，我这一辈子也许就没有出头之日了。春节前几天董柳调到省人民医院去了。</p>
<p>​    有了职称，又有了位子，好事要送到你鼻子底下来，不要都不行。我的工资一年里提了二次，厅里又给家里装了电话，每个月报销一百块钱电话费。想一想这一年的变化，真有一点要飘起来的感觉。老婆调动了，房子有了，职称有了，位子有了，博士读上了，工资涨了，别人对我也客气了，我说话也管用了。权就是全，这话不假，不到一年，天上人间啊，再往前走半步，真的可以说要风有风要雨有雨了，这半步的意义实在大得很，不追求不行啊。以前看着别人为了那半步绞尽脑汁，怨气冲天，哭哭啼啼，觉得非常可笑，大男人的，值得吗？轮到自己了才明白这半步的份量和含金量。人嘛，也不能说谁是野心家，进步是人人都梦想的，批判什么人说他是野心家，那实在是很可笑的。我以前一点野心没有，谁又照应过我那么一点半点？世界太现实了，圈子里尤其如此，人不可能在现实主义的世界中做一个理想主义者。鼻子底下那点东西我肯定是要的，虽然我有时又跳出去把它叫做“一堆牛屎”。人生一个基本的出发点，就是只能站在自己脚下这几寸土地上去想事情，而不能跳出去想，跳出去想自己什么也不是，自己鼻子底下那点东西什么也不是。对世界来说我渺若微尘，可有可无，我什么也不是，今天就死了地球照样转，可对我自己来说，我就是意义的全部，我的存在是一个最重大的事情。世界的眼光和我的眼光的反差实在太大太大了。人就是这样可悲可怜可叹。鸡每天琢磨什么？鸡从来不琢磨意义问题，它琢磨那几粒米。自己每天都在琢磨什么？像猫一样警觉，把捕捉到的每一个信息，一句话，一个动作，一种眼神，一丝笑意等等仔细地加以分析，并力图通过这种信息钻到对方的潜意识中去。晏老师告诉我的处世之道百试不爽，对任何人，你只要站在他的立场上去设想他的态度就行了，可千万不能去虚设什么公正的立场，那些原则是在打官腔敷衍老百姓时用的。</p>
<p>​    在温汤呆了两天感觉还不错，洗洗温泉，看看书，钓钓鱼，跟小孟咸的淡的说几句话，想着神仙也不过如此吧。到了第三天感觉就有点不对劲了，若有所失似的。我想自己是想儿子了，就打了电话回去。可跟儿子通了话还是没有摆脱那种无聊的感觉，体会到神仙的日子原来并也不是那么有趣的，仙人们依靠什么摆脱无聊？不解决这个问题，吃得再好穿得再好也不幸福。到了第四天上午我拿着钓杆坐在池塘边的遮阳伞下，心里空落落地发虚，双眼盯着浮漂一点感觉也没有，好像那个东西与我无关。吃过中饭简直就惶惶不可终日了。没有人来汇报，来商量工作，没有开会参与决策，这日子真不是人过的啊！以前只觉得有电话烦人，没想到没有电话更烦人，被抛到荒野之中似的。意识到这一点我吃了一惊，难道我也中了鸦片毒，上了瘾不可自拔了？以前看到别人官瘾比毒瘾还重，觉得不可理喻，今天才真正理解了他们。也难怪施厅长退了休，身体那么快就垮掉了。整天心中这么空落落的，钓鱼下棋都不能弥补无聊，能健康吗？无聊是一种富贵病，可它要命，也没有药可治，我这个学药理的博士也开不出一味药来治，不然我得先把自己治一治。不到两年我的心态竟变得这样厉害，可怎么得了？我这时彻底明白了，自己一旦走出这一步，就有了一种新的本能，也就绝没有后退的可能，什么叫开弓没有回头箭？我并不特别在乎那些好处，好处很重要，但更重要的，是自己很重要的那种感觉，那种有意义地存在的感觉。我放下了世界，进入了操作，本来只是想得到一些好处，却意外地找到了那种有意义的感觉。那种感觉不是含在口中的一点甜，穿在身上的一种暖，握在手心的一种柔嫩，而是远超出物质感受的体验。虽然跳出去想一想那点有意义的感觉非常可怜，只是过程中即生即灭的存在，但对我来说却非常重要，毕竟人生一世也只是个过程啊。因此我还得向前进，向前进，向前进啊！否则人生的目标又在哪里？向前进就是人间至乐，没有经历过的人不会明白。说到底人还是需要目标需要偶像崇拜，没这个东西他就找不到归宿感，找不到有意义地存在的感觉。上帝为人设计了无聊的感觉，又设计了逃避的方式，这就是权和钱。人生最大的使命就是选定一个目标并把它视为神圣，像偶像对教徒那样神圣，以此来逃避空虚，逃避无聊，逃避意义的真空。人生最大的悲剧就是意义的真空。我平时在心里骂权和钱是两个俗物，这时才感到了两个俗物的妙处，它们可以成为无限的目标，这是其它东西无法取代的。目标是虚拟的，但成就感带来的充实是真实的，因此虚拟的真实比真实的真实更加真实。以前想着亿万富翁都是愚不可及的傻瓜，钱用不完了还那么整天奔波赚钱干什么，人能活一万年吗？现在想起来，认为他们是傻瓜的人才是傻瓜呢。我在心里哼起了红色娘子军的军歌：“向前进，向前进，战士的责任重……”我在温汤已经魂不守舍，心中聚集着越来越强烈的焦虑，而缓解焦虑的唯一方式是向前进，再向前进，永无止尽。人越是满足就越是没有满足感，就越是焦虑，这是权和钱的魅力。哪怕我已经明白每一次成功每一次释放都是焦虑重新聚焦的起点，永无止尽，但已经鬼迷心窍。我相信自己这一辈子不可能还有其它选择，我必须紧紧地抓住这一根救命草。这样我明白了为什么有些大人物已经高不可攀却还要孤注一掷。他们并不傻。</p>
<p>​    他把目光从远处收回来说：“前不久我去北京上海，看见我的那些文友的日子都过得很好，很精致，精致到骨头里去了，一个小菜都可以变着法儿弄出七八个花样来，还有人买了小车别墅。他们对钱的感受与常人并没有什么不同，对自我的关注和爱恋还甚于常人。他们说什么并不妨碍自己做什么，做什么也不妨碍自己说什么，他们在两极之间自由地滑动。我就知道再说什么都太多余了，太矫情了，高调再也唱不下去了。我对知识分子很失望，对自己也很失望。几千年来，在孔子的感召下，退守自我空间很少成为中国知识分子的主流选择，但似乎在一瞬间，情况就变了，大家眼中只剩下自我了，把世界扔下了。”我说：“这不是谁的过错，这是历史。我们的幸运和不幸，都在于我们在世纪之交遭遇了相对主义，它把一切信念和崇高都变成一种说法，一种含糊其辞模棱两可的说法。一种说法不能够成为牺牲的理由。活着是唯一的真实，也是唯一的价值。历史决定了我们是必然的庸人，别无选择。人们因此看清了真相，解放了自己，却抛开了良知，放弃了世界。那些看清了真相的人实际上在一种更高的真实中迷失了，他们是这个时代最大的赢家，也是最大的输家。我不敢说自己真的赢了。”他沉默良久，点了点头，说：“我说孔子死了还有另一条理由。孔子是讲君子小人的，可市场和权力场只讲强者和弱者。孔子死了，高贵和卑贱的区别已经被一种看不见的手抹平，而强者和弱者的差异如此明显。人们看透了这一点，放下了精神高贵，社会弥散着痞子意识，王朔是痞子，他还痞得真诚，那些痞得虚伪的人，嘴上还念着道德经的人，那才是大玩家呢。古人可凭人格力量做个布衣君子，今天谁称自己是布衣君子，那不是强者的笑柄？观念从根子上都变了，我们甚至已经不能说小人是小人，君子是君子了。我说金叶置业的余老板是小人，自己是君子，那不是笑话？没有了小人君子之辩，孔子他不死？承担和牺牲的精神，人格和道德的力量，传统文化两大支柱已经崩塌，也没有重建的可能。孔子死了，我很痛心惋惜，却也看到这是历史必然，在农业文明的土地上生长出来的观念无法面对今天的现实世界。如果说孔子还剩一口气，那就是食色性也，连我都要拿起这个武器大胆地走向堕落了，我只恨自己堕落不了！”我说：“像你一个知识分子，要把过去的自己杀死，又谈何容易？人人都是爱自己的，谁下得了这个杀手？我特别能理解你。堕落也要有残忍的勇气呢。”刘跃进说：“我说自己是知识分子我很惭愧，这一群人正在失去身份，变成了生存者操作者大玩家。对世界我已经是心灰意冷，从绝望中生出一种堕落的勇气。有时候想着绝望中还有一线希望，物极必反，我就不相信功利主义对人的征服是永恒的。”我说：“真有那一天，你刘跃进还活在这个世界上吗？你的等待和牺牲只有靠历史学家来考证了，但恐怕未来的历史学家没有这样一份闲心。”他拍着自己的头说：“是的，是的。现在是从个人看世界的时代，世界对自己有意义那才是真实的意义，起点变了，世界翻转过来了，从世界看个人的时代一去不复返了。你对世界的那点意义世界是体会不到的，一只泥牛填不平大海。大为我也要学你呢，要活出一点滋味，想想在世界上只能活一万多天了。想那么多干什么？当个旁观者又怎么对得起这点岁月，又怎么能活出滋味？人活着吧，就是活那点滋味！”他说着把嘴唇品咂了几下，“那点滋味！”听了他的话我感到了震惊，虽然这样想法也是自己曾经想过的，但现在从另一个人的口中说出来，特别是从刘跃进口中说出来，我还是感到了震惊。别人也在用心感受世界。这更使我相信，时间之中的某些因素，不是谁可以抗拒的，抗拒也没有意义。历史就是历史，聪明的人，倔犟的人，都拗不过历史。我为自己先走一步而有了现在的主动而感到庆幸。</p>
<p>​    刘跃进去了，我在灯下发了一阵呆。在这个时代，我们遇到了精神上的严峻挑战，我得承认这一点。我们没有足够强健的精神力量来回应这种挑战，在不觉中，就被打败了，缴械投降了。我们失去了身份，这似乎是时间的安排，不可抗拒。有史以来，中国的知识分子第一次失去了根基。他们解放了自己，却陷入了万劫不复的精神绝地。最后我叹一口气：“不知不觉，三千年一大变局！”</p>
<h2 id="四"><a href="#四" class="headerlink" title="四"></a>四</h2><p>​    说完话我准备离开，站起来走到门边，马厅长后面说：“小池你过来。”我走到他面前站住了。他也不喊我坐，低了头不做声，两只手掌慢慢地来回搓着，好一会对椅子点一点头，我就坐下了。他说：“鸟之将去，其声也哀，人之将去，其言也善。我们今天好好说会话吧，以后还不知有这样的机会没有。”我马上说：“以后的工作都离不开马厅长您的指导。”他有点悲伤地笑，不置可否。停停他说：“有些话跟别人我就不说了，跟你吧，”他顿一顿，我马上接上去说：“毕竟我是马厅长您一手带出来的。”他说：“正因为如此，我想有些多余的话我还是说了吧。我在领导岗位上几十年，如果说有什么心得，那第一条就是不能抱幻想，对什么人，什么事都不能抱幻想，任何时候抱有幻想都将被证明是错误的。”这番话说得我心中冲了一下，这不会是在暗示我吧？难道我的想法他都知道？我不解释，一解释反而有了欲盖弥彰的意味。我不动声色说：“我记下了。”似乎他讲的是别人，而我是一个例外。他讲了好一会把话讲完了，我说：“记下了。”他轻声说：“去吧。”我忽然有点可怜他，正想找一番话出来表白一番，让他放心。他似乎看透了我的心思，说：“去吧，去吧。”我就离开了。</p>
<p>​    回去的路上我想着怎么向马厅长交待这件事。我原来以为会有一场恶战，想不到风平浪静竟解决了。多亏马厅长在那里压住了台，没人敢跳出来争抢。我越是感谢马厅长，就越是感到对不起他，也越是怕自己的工作受到他的牵制。他希望我说的话，我从反面去说了，这实在是没有办法的事情。我也没有力量超出人性的极限。我奇怪马厅长斩钉截铁地说对谁也能抱幻想，可他怎么还对我抱有幻想？我不想因为感恩而当个一事无成的傀儡厅长啊。谁又能放下自己？的确，没有马厅长就没有我的今天，如果当年他把我放在中医协会不动，不安排我去读博士，我这一辈子就注定一事无成了。到了这份年龄还当个老办事员，自己再怎么说人格坚挺，不为名利所动，是天字第一号忍者，是古往今来绝无仅有的踏雪无痕的圣者，那也是屁话！在文章中写写可以，轮到自己是什么滋味？谁能放下自己？连那些鼓吹放下自己的大人先生们都放不下自己，最后都露出了自己最重要最正确碰不得的尾巴，这倒使人们看清楚了，他们的鼓吹不过是抬高自己的一种方式。这些年我看来看去，也看出了自己尊崇的那些大人物们，也并没有真正的力量超越人性的极限。世上的好东西你不去竭力争取就没有，到死都没有，死后更没有，没人追认，根本就不是什么流芳千古的时代了。做个高人，隐者，君子？心如止水，冷眼看世界？恬然入定，谈笑说古今？老皇历翻不得了，人可不能骗自己啊！说到底还是要感谢马厅长。可也正因为如此，我不能在他的阴影下工作，我想做几件事，不然我坐在那里不是尸位素餐？</p>
<p>​    我是人，我不是神，人所具有的我都具有，我不必为一个神话把自己禁锢起来。我感到身体中有一个无法准确指出的部位在源源地释放能量，推动着自己向前走去，我已经不由自主。这样我更理解了人，理解了世界，也理解了历史的可能性。这个世界是有极限的，人性的极限就是世界的极限，只有天生的幻想家仍然抱有幻想。人们不能去追求那些不可能的可能性，特别是不能把这种渺茫的可能性制度化。人永远是凡人，世界永远是世界，在人间不可能建立天国。我们在人性的神话中构筑了社会，要求人们掌握着资源分配却绝对公正，这是天国而不是人间的逻辑。让充满欲望和偏见的人坐在像我这样的位子上，这不能不是一种危险。大人物也是人，是人就无法从一个预设的逻辑起点比如为人民服务出发。如果有这样一个起点，那只能是人本身。我们不能欺骗自己，虽然这种欺骗是那样的魅力无穷。一个社会执著地追求不可能的可能性，就培养出一批双面人，而把无法实现的目标当作目标，就放逐了起码的公正。高调人性论的破产是必然的，人类的历史就是人性的神话破产的历史；虽然它充满诱惑，有时比真实更加真实，在历史中却仍然是一种虚构。凡人就是凡人，处在圣人的位子他是凡人，经过了神话的包装仍然是凡人。那些受到了不公正待遇的人也许没有特别充分的理由激愤，他自己也是凡人，只是他不幸处在一个被动的地位上罢了。我是凡人，也是一个人性神话破产的范例。一时的崇高感神圣感毕竟禁不起日久天长的浸润。但我还是要维持这样一个神话，我的角色决定了我只能如此。有些话我会放在心中反复地想，却永远不会说出来。当年想说的时候不能说，现在能说了，又不想说了。人们不应该向上帝挑战，不能试图去改变上帝设置的先天程序。人就是有自我偏见，就是要从自己的情感特别是利益出发去判断事物，这实在是没有办法的事情，也是我们理解世界的起点。也许有几个圣者可能超越，但不可能有几万个，更不可能有几亿个。几个人不能作为口实，更不能作为依据，否则就很虚渺。要克服偏见就是克服人性，但人性却是生生不息的，因而历史也是循环往复的。历史是技术无限进步和人性无限循环的历史。挑战的冲动是一个本质的方向性错误，因而无法弥补无法纠正。我们只能在低调人性论的基础上，对世界抱着有限的希望。</p>
<p>​    早些年我对这种状况不满，现在看来是有道理的，有道理，越想越有道理。你图嘴巴痛快？让你知道什么叫祸从口出！这样想了我犹豫了一下，这个决定违背了我的本性，我池大为不是这样的人。可马上我又对这种犹豫产生了犹豫，我要这么心软，以后谁会怕我？威信一倒就什么事也做不成了。龚正开必须受到警告，付出代价，这才符合我真正的本性。这样想着我深感历史并不荒谬。有些人一生潦倒是必然的，他们只能如此，哪怕他们是人杰是圣者，也不能逃脱这种命运。历史并不荒谬，甚至荒谬其实并不荒谬，认为历史荒谬是浅薄的。事情只能如此。</p>
<p>​    晚上我们挤在一间房中，躺下熄了灯说话，好像又回到了二十多年以前。我们说到班上的同学，有人仍在大山深处当一个艰苦度日的农民，说到当年半夜口渴却停了水，几个人到井边把吊桶摇上来喝水，又说到那年搞农村调查的事情，说到青春的信念，这信念曾像日出东方一样坚定。突然，都沉默了。我们今日的成功超出了当年的想象，可真诚和信念却只存在于回忆之中。只要将目光转向现实，思维就本能地驶向另一条轨道。在那里才有成功，而成功就是一切，别的说什么都变得意义暧昧，成为多余。在世纪末的人生之旅中，我们不知不觉就进入了这样的境地，这简直就是历史的安排，而个人不过是被生存的本能推着走罢了。这是宿命，宿命，无需讨论，无可选择，也无法改变。我们在不知不觉之中失去了精神的根基，成为了悬浮一族。我们在随波逐流之中变成了新型的知识分子，没有“三不朽”的使命意识，没有天下千秋的承担情怀，没有流芳千古的虚妄幻想。时代给了我们足够的智慧看清事情的真相，我们因而也不再向自己虚构神圣预设终极，不再去追求那种不可能的可能性。我们是胜利的失败者，又是失败的胜利者，是儒雅的俗人，又是庸俗的雅人。我们以前辈的方式说话，但本质上却没有力量超出生存者的境界。对世界我们什么都不是，对自己就是一切，我们被这种残酷的真实击败了，从内部被击败了。我们没有力量面对那些严峻的话题，关于身份，关于灵魂，于是怯懦而虚伪地设想那些问题并不存在，生存才是唯一的真实。我们曾经拥有终极，而终级在今天已经变成了我们自己。生命的意义之源突然中断，梦想成为梦想，我们成为无源之水无本之木，成为了永远的精神流浪者。天下千秋已经渺远，自己这一辈子却如此真实。当一己之瞬间成为天下之永恒，我们就与乐观主义作了最后的诀别，毕竟，人只能在自身之外而不可能以自己为目标建构崇高，建构形而上的意义世界。悲剧在时间的巨掌中已经注定，我们还没来得及细想就进入了铺就的轨道。对我们而言，这个事实只能接受，而无须讨论也无法抗拒。</p>
<p>​    父亲，现在是我，你的儿子，站在这里。也许，在这个世界上，我是唯一能够理解你的人。虽然我并没有以你的方式面对世界。你相信人性的善良，相信时间的公正，把信念和原则置于生命之上。你对世界的理解有着浪漫的崇高，而没有现实的庸人气息。我理解你以知其不可而为之的姿态，那样从容不迫地走了牺牲的道路，甚至不去细想这种牺牲的意义。在你看来，原则是不能够经过精心计算的，你是大智若愚。在没有天然尺度的世界上，信念就是最后的尺度，你无怨无悔。而我，你的儿子，却在大势所趋别无选择的口实之中，随波逐流地走上了另一条道路。那里有鲜花，有掌声，有虚拟的尊严和真实的利益。于是我失去了信念，放弃了坚守，成为了一个被迫的虚无主义者。我的心中也有隐痛，用洒脱掩饰起来的隐痛，无法与别人交流的隐痛，这是一个时代的苦闷。请原谅我没有力量拒绝，儿子是俗骨凡胎，也不可能以下地狱的决心去追求那些被时间规定了不可能的东西。父亲，我理解你，你是真实的，这种真实我已经感到生疏，现在又强烈地感到了它的存在。可不知你是不是也能理解另外一种真实？父亲，现在是我，你的儿子，站在这里。</p>
<p>​    我感到了眼角有些涩，眨一眨眼才知道自己刚才流了泪，在风中已经干了。我心中发痛，鼻子酸酸的，泪水又要冲出来。我紧闭双眼，咬着嘴唇，忍了下去。我在坟前跪下，从皮包中抽出硬皮书夹，慢慢打开，把《中国历代文化名人素描》轻轻地放在泥土上。十年来，我只看过两次，我没有足够的心理承受能力打开它去审视自己的灵魂。我掏出打火机，打燃，犹豫着，火光照着书的封面，也灼痛了我的手指。我拇指一松，火熄灭了。下面有人在喊我：“池厅长——，池厅长——”声音从黑暗中飘来，越来越近。我没有回答，再次打燃了火，把父亲的肖像从书中抽出来，把火凑近了，鼓起勇气看了看，像是一个活人在对面凝视着我。我像被那种目光击中了似的，身子往旁边一闪，浑身发疟疾似地抖了起来，上牙敲着下牙。我左手把书拿起来，纸已经脆了，一碰就掉了一块。我把火凑上去，书被点燃了。火花跳动着，热气冲到我脸上，在黑暗的包围之中闪着最后的光。我死死地盯着那一点亮色，像要把它雕刻在大脑最深处的褶皱之中，那里是一片无边的黑暗，一点亮色在黑暗中跳动。“池厅长——，池厅长——”声音越来越近。我双手撑着泥土站了起来，在直起身子的那一瞬，我看见深蓝的天幕上布满了星星，泛着小小的红色、黄色、紫色，一颗颗被冻住了似的，一动不动。我呆住了。我仰望星空，一种熟悉而陌生的暖流从心间流过，我无法给出一种准确的描述。我缓缓地把双手伸了上去，尽量地升上去，一动不动。风呜呜地从我的肩上吹过，掠过我从过去吹向未来，在风的上面，群星闪烁，深不可测。</p>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="SWQ"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">SWQ</p>
  <div class="site-description" itemprop="description">舟遥遥以轻飏，风飘飘而吹衣</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">135</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">33</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/xidianswq" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;xidianswq" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/3209507800@qq.com" title="E-Mail → 3209507800@qq.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://blog.csdn.net/qq_32971095" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_32971095" rel="noopener" target="_blank"><i class="fa fa-link fa-fw"></i>CSDN</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; Sat Feb 08 2025 08:00:00 GMT+0800 (中国标准时间) – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">SWQ</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">1.1m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">17:18</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 驱动
  </div>


    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <span id="busuanzi_container_site_pv">总访问量<span id="busuanzi_value_site_pv"></span>次</span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">总访客数<span id="busuanzi_value_site_uv"></span>人</span>
    <span class="post-meta-divider">|</span>
<!-- 不蒜子计数初始值纠正 -->
<script>
$(document).ready(function() {

    var int = setInterval(fixCount, 50);  // 50ms周期检测函数
    var countOffset = 20000;  // 初始化首次数据

    function fixCount() {            
       if (document.getElementById("busuanzi_container_site_pv").style.display != "none")
        {
            $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + countOffset); 
            clearInterval(int);
        }                  
        if ($("#busuanzi_container_site_pv").css("display") != "none")
        {
            $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + countOffset); // 加上初始数据 
            clearInterval(int); // 停止检测
        }  
    }
       	
});
</script> 

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/three-waves.min.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'H2FYHQwVGaUkawg5DkrA6d6M-gzGzoHsz',
      appKey     : 'zndS0u9Qj7qj8CqnJINs2MGT',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : 'https://h2fyhqwv.lc-cn-n1-shared.com'
    });
  }, window.Valine);
});
</script>

</body>
</html>
